module.exports=[93516,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38645),e=a.i(87532),f=a.i(73570),g=a.i(67453),h=a.i(70106);let i=(0,h.default)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),j=(0,h.default)("ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]),k=(0,h.default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),l=(0,h.default)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);var m=a.i(38246),n=a.i(97895),o=a.i(33508),p=a.i(14548),q=a.i(41675),r=a.i(21937);function s({component:a,children:e}){let{addMeasurement:f}=(0,d.useComponents)(),{user:g}=(0,r.useAuth)(),[h,i]=(0,c.useState)(!1),[k,l]=(0,c.useState)(""),[m,n]=(0,c.useState)(new Date().toISOString().split("T")[0]),[s,t]=(0,c.useState)(g?g.name:"");return(0,c.useEffect)(()=>{g&&t(g.name)},[g]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{onClick:()=>i(!0),children:e}),h&&(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in",children:(0,b.jsxs)("div",{className:"w-full max-w-md bg-white rounded-xl shadow-xl border animate-in zoom-in-95 duration-200",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,b.jsxs)("h3",{className:"font-semibold text-lg",children:["Nuova Misura: ",a.code]}),(0,b.jsx)("button",{onClick:()=>i(!1),className:"p-1 hover:bg-muted rounded text-muted-foreground",children:(0,b.jsx)(o.X,{className:"h-5 w-5"})})]}),(0,b.jsxs)("form",{onSubmit:b=>{b.preventDefault(),k&&(f(a.id,{date:m,value1:parseFloat(k),operator:s||(g?g.name:"Unknown")}),l(""),n(new Date().toISOString().split("T")[0]),i(!1))},className:"p-4 space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Data Rilevazione"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(q.Calendar,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,b.jsx)("input",{type:"date",required:!0,className:"flex h-10 w-full rounded-md border bg-background pl-9 pr-3 py-2 text-sm focus:ring-2 focus:ring-primary outline-none",value:m,onChange:a=>n(a.target.value)})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Operatore"}),(0,b.jsx)("div",{className:"relative",children:(0,b.jsx)("input",{type:"text",className:"flex h-10 w-full rounded-md border bg-background px-3 py-2 text-sm focus:ring-2 focus:ring-primary outline-none",placeholder:"Nome Operatore",value:s,onChange:a=>t(a.target.value)})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Diametro Rilevato (mm)"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(j,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,b.jsx)("input",{autoFocus:!0,type:"number",step:"0.01",className:"flex h-10 w-full rounded-md border bg-background pl-9 pr-3 py-2 text-sm focus:ring-2 focus:ring-primary outline-none",placeholder:"es. 49.95",value:k,onChange:a=>l(a.target.value)})]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-2 pt-2",children:[(0,b.jsx)("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 text-sm font-medium hover:bg-muted rounded-md",children:"Annulla"}),(0,b.jsxs)("button",{type:"submit",className:"inline-flex items-center gap-2 bg-primary text-primary-foreground px-4 py-2 rounded-md text-sm font-medium hover:bg-primary/90",children:[(0,b.jsx)(p.Save,{className:"h-4 w-4"})," Salva Misura"]})]})]})]})})]})}var t=a.i(15618);function u({children:a}){let{addComponent:e}=(0,d.useComponents)(),[f,g]=(0,c.useState)(!1),[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)("SCREW"),[n,p]=(0,c.useState)("JOLLY"),[q,r]=(0,c.useState)(""),[s,u]=(0,c.useState)("RETINATO"),[v,w]=(0,c.useState)("");return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{onClick:()=>g(!0),children:a}),f&&(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in",children:(0,b.jsxs)("div",{className:"w-full max-w-lg bg-card rounded-xl shadow-xl border animate-in zoom-in-95 duration-200",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,b.jsx)("h3",{className:"font-semibold text-lg",children:"Nuovo Componente"}),(0,b.jsx)("button",{onClick:()=>g(!1),className:"p-1 hover:bg-muted rounded text-muted-foreground",children:(0,b.jsx)(o.X,{className:"h-5 w-5"})})]}),(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),e({code:h,model:j,type:l,usageType:n,manufacturer:q,warehouse:s,location:v,status:"OPTIMAL",measurements:[],purchaseDate:new Date().toISOString().split("T")[0],hoursUsed:0,assignedAssetId:void 0}),i(""),k(""),m("SCREW"),p("JOLLY"),r(""),u("RETINATO"),w(""),g(!1)},className:"p-4 space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Codice Identificativo"}),(0,b.jsx)("input",{required:!0,className:"w-full rounded-md border bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-primary",placeholder:"es. VITE-2024-001",value:h,onChange:a=>i(a.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Costruttore"}),(0,b.jsx)("input",{required:!0,className:"w-full rounded-md border bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-primary",placeholder:"es. Bausano",value:q,onChange:a=>r(a.target.value)})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Modello / Descrizione"}),(0,b.jsx)("input",{required:!0,className:"w-full rounded-md border bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-primary",placeholder:"es. Vite Ø50mm PVC",value:j,onChange:a=>k(a.target.value)})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Tipo Componente"}),(0,b.jsxs)("div",{className:"flex bg-muted/50 p-1 rounded-lg",children:[(0,b.jsx)("button",{type:"button",onClick:()=>m("SCREW"),className:`flex-1 py-1 text-xs font-medium rounded-md transition-all ${"SCREW"===l?"bg-background shadow-sm text-foreground":"text-muted-foreground"}`,children:"VITE"}),(0,b.jsx)("button",{type:"button",onClick:()=>m("BARREL"),className:`flex-1 py-1 text-xs font-medium rounded-md transition-all ${"BARREL"===l?"bg-background shadow-sm text-foreground":"text-muted-foreground"}`,children:"CILINDRO"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Magazzino"}),(0,b.jsxs)("select",{className:"w-full rounded-md border bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-primary",value:s,onChange:a=>u(a.target.value),children:[(0,b.jsx)("option",{value:"RETINATO",children:"Retinato"}),(0,b.jsx)("option",{value:"MAGLIATO",children:"Magliato"})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Utilizzo (Tipologia)"}),(0,b.jsxs)("select",{className:"w-full rounded-md border bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-primary",value:n,onChange:a=>p(a.target.value),children:[(0,b.jsx)("option",{value:"SOTTOSTRATO",children:"Sottostrato"}),(0,b.jsx)("option",{value:"COPERTURA",children:"Copertura"}),(0,b.jsx)("option",{value:"JOLLY",children:"Jolly"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Posizione (Scaffale)"}),(0,b.jsx)("input",{required:!0,className:"w-full rounded-md border bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-primary",placeholder:"es. A-12",value:v,onChange:a=>w(a.target.value)})]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[(0,b.jsx)("button",{type:"button",onClick:()=>g(!1),className:"px-4 py-2 text-sm font-medium hover:bg-muted rounded-md",children:"Annulla"}),(0,b.jsxs)("button",{type:"submit",className:"inline-flex items-center gap-2 bg-primary text-primary-foreground px-4 py-2 rounded-md text-sm font-medium hover:bg-primary/90",children:[(0,b.jsx)(t.Plus,{className:"h-4 w-4"})," Aggiungi"]})]})]})]})})]})}var v=a.i(4720),w=a.i(90669),x=a.i(81560),y=a.i(73320);let z=(0,h.default)("file",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]]);function A({component:a,children:e}){let{updateComponent:f}=(0,d.useComponents)(),[g,h]=(0,c.useState)(!1),[i,j]=(0,c.useState)("INFO"),[k,l]=(0,c.useState)(a.referenceDrawing||""),[m,q]=(0,c.useState)(a.nominalDiameter||0),[r,s]=(0,c.useState)(a.drawingUrl||""),[t,u]=(0,c.useState)(a.isScrapped||!1),[A,B]=(0,c.useState)(a.lifecycle||{}),C=(a,b)=>{B(c=>({...c,[a]:b}))};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{onClick:()=>h(!0),className:"cursor-pointer",children:e}),g&&(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in",children:(0,b.jsxs)("div",{className:"w-full max-w-2xl bg-white rounded-xl shadow-xl border animate-in zoom-in-95 duration-200 flex flex-col max-h-[90vh]",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[a.code,t&&(0,b.jsx)("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-0.5 rounded border border-red-200",children:"ROTTAMATA"})]}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:[a.model," • ",a.manufacturer]})]}),(0,b.jsx)("button",{onClick:()=>h(!1),className:"p-1 hover:bg-muted rounded text-muted-foreground",children:(0,b.jsx)(o.X,{className:"h-5 w-5"})})]}),(0,b.jsxs)("div",{className:"flex border-b px-4",children:[(0,b.jsx)("button",{onClick:()=>j("INFO"),className:(0,n.cn)("px-4 py-3 text-sm font-medium border-b-2 transition-colors","INFO"===i?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"),children:"Dati Generali"}),(0,b.jsx)("button",{onClick:()=>j("LIFECYCLE"),className:(0,n.cn)("px-4 py-3 text-sm font-medium border-b-2 transition-colors","LIFECYCLE"===i?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"),children:"Ciclo di Vita"}),(0,b.jsx)("button",{onClick:()=>j("HISTORY"),className:(0,n.cn)("px-4 py-3 text-sm font-medium border-b-2 transition-colors","HISTORY"===i?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"),children:"Cronologia Misure"})]}),(0,b.jsxs)("div",{className:"p-6 overflow-y-auto flex-1",children:["INFO"===i&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Disegno di Riferimento"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(v.FileText,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,b.jsx)("input",{className:"w-full pl-9 rounded-md border bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-primary",placeholder:"Codice Disegno...",value:k,onChange:a=>l(a.target.value)})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Costruttore"}),(0,b.jsx)("div",{className:"px-3 py-2 text-sm border rounded-md bg-muted/50",children:a.manufacturer})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Diametro Nominale (mm)"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(w.Activity,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,b.jsx)("input",{type:"number",className:"w-full pl-9 rounded-md border bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-primary",placeholder:"0.00",value:m||"",onChange:a=>q(parseFloat(a.target.value))})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Data Acquisto"}),(0,b.jsx)("div",{className:"px-3 py-2 text-sm border rounded-md bg-muted/50",children:a.purchaseDate})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Disegno PDF"}),(0,b.jsx)("div",{className:"flex items-center gap-2",children:r?(0,b.jsxs)("div",{className:"flex-1 flex items-center justify-between p-2 border rounded-md bg-green-50 border-green-200",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-green-700 overflow-hidden",children:[(0,b.jsx)(z,{className:"h-4 w-4 shrink-0"}),(0,b.jsx)("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"text-sm underline truncate max-w-[150px]",children:"Apri Disegno"})]}),(0,b.jsx)("button",{onClick:()=>s(""),className:"p-1 hover:bg-green-100 rounded text-green-700",children:(0,b.jsx)(o.X,{className:"h-3 w-3"})})]}):(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsxs)("label",{className:"flex items-center justify-center w-full p-2 border-2 border-dashed rounded-md cursor-pointer hover:border-primary/50 hover:bg-muted/50 transition-colors group",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground group-hover:text-primary",children:[(0,b.jsx)(y.Upload,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"text-xs font-medium",children:"Carica PDF"})]}),(0,b.jsx)("input",{type:"file",accept:".pdf",className:"hidden",onChange:a=>{let b=a.target.files?.[0];b&&s(URL.createObjectURL(b))}})]})})})]})]}),(0,b.jsxs)("div",{className:"pt-4 border-t",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"checkbox",id:"scrapped",checked:t,onChange:a=>u(a.target.checked),className:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"}),(0,b.jsxs)("label",{htmlFor:"scrapped",className:"text-sm font-medium text-red-600 flex items-center gap-2 cursor-pointer select-none",children:[(0,b.jsx)(x.Trash2,{className:"h-4 w-4"}),"Segna come ROTTAMATA"]})]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1 ml-6",children:"Il componente verrà contrassegnato come non più utilizzabile."})]})]}),"LIFECYCLE"===i&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Registra le date degli interventi di manutenzione straordinaria."}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-8",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("h4",{className:"font-semibold text-sm flex items-center gap-2 text-amber-600",children:[(0,b.jsx)(w.Activity,{className:"h-4 w-4"})," Nitrurazioni"]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-xs font-medium",children:"1° Nitrurazione"}),(0,b.jsx)("input",{type:"date",className:"w-full rounded-md border bg-background px-3 py-2 text-sm",value:A.nitriding1||"",onChange:a=>C("nitriding1",a.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-xs font-medium",children:"2° Nitrurazione"}),(0,b.jsx)("input",{type:"date",className:"w-full rounded-md border bg-background px-3 py-2 text-sm",value:A.nitriding2||"",onChange:a=>C("nitriding2",a.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-xs font-medium",children:"3° Nitrurazione"}),(0,b.jsx)("input",{type:"date",className:"w-full rounded-md border bg-background px-3 py-2 text-sm",value:A.nitriding3||"",onChange:a=>C("nitriding3",a.target.value)})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("h4",{className:"font-semibold text-sm flex items-center gap-2 text-blue-600",children:[(0,b.jsx)(w.Activity,{className:"h-4 w-4"})," Rigenerazioni"]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-xs font-medium",children:"1° Rigenerazione"}),(0,b.jsx)("input",{type:"date",className:"w-full rounded-md border bg-background px-3 py-2 text-sm",value:A.regeneration1||"",onChange:a=>C("regeneration1",a.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-xs font-medium",children:"2° Rigenerazione"}),(0,b.jsx)("input",{type:"date",className:"w-full rounded-md border bg-background px-3 py-2 text-sm",value:A.regeneration2||"",onChange:a=>C("regeneration2",a.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-xs font-medium",children:"3° Rigenerazione"}),(0,b.jsx)("input",{type:"date",className:"w-full rounded-md border bg-background px-3 py-2 text-sm",value:A.regeneration3||"",onChange:a=>C("regeneration3",a.target.value)})]})]})]})]}),"HISTORY"===i&&(0,b.jsx)("div",{className:"space-y-4",children:(0,b.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,b.jsx)("thead",{className:"bg-muted text-muted-foreground font-medium",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-3 py-2",children:"Data"}),(0,b.jsx)("th",{className:"px-3 py-2",children:"Valore"}),(0,b.jsx)("th",{className:"px-3 py-2",children:"Operatore"})]})}),(0,b.jsx)("tbody",{className:"divide-y",children:0===a.measurements.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:3,className:"px-3 py-4 text-center text-muted-foreground italic",children:"Nessuna misurazione registrata."})}):[...a.measurements].reverse().map((a,c)=>(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"px-3 py-2",children:a.date}),(0,b.jsx)("td",{className:"px-3 py-2 font-mono",children:a.value1}),(0,b.jsx)("td",{className:"px-3 py-2 text-muted-foreground",children:a.operator})]},c))})]})})]}),(0,b.jsxs)("div",{className:"p-4 border-t bg-muted/40 flex justify-end gap-2",children:[(0,b.jsx)("button",{onClick:()=>h(!1),className:"px-4 py-2 text-sm font-medium hover:bg-muted rounded-md",children:"Chiudi"}),("INFO"===i||"LIFECYCLE"===i)&&(0,b.jsxs)("button",{onClick:()=>{f(a.id,{referenceDrawing:k,nominalDiameter:m,drawingUrl:r,isScrapped:t,lifecycle:A}),h(!1)},className:"flex items-center gap-2 bg-primary text-primary-foreground px-4 py-2 rounded-md text-sm font-medium hover:bg-primary/90",children:[(0,b.jsx)(p.Save,{className:"h-4 w-4"})," Salva Modifiche"]})]})]})})]})}var B=a.i(20285);function C(){let{components:a}=(0,d.useComponents)(),{assets:h}=(0,B.useAssets)(),[k,o]=(0,c.useState)(""),[p,q]=(0,c.useState)("ALL"),r=a.filter(a=>{let b=a.code.toLowerCase().includes(k.toLowerCase())||a.model.toLowerCase().includes(k.toLowerCase()),c="ALL"===p||a.warehouse===p;return b&&c}),v=({status:a})=>{switch(a){case"OPTIMAL":return(0,b.jsx)(g.CheckCircle2,{className:"h-4 w-4 text-emerald-500"});case"WARNING":return(0,b.jsx)(f.AlertTriangle,{className:"h-4 w-4 text-amber-500"});case"NEEDS_NITRIDING":return(0,b.jsx)(f.AlertTriangle,{className:"h-4 w-4 text-orange-500"});case"NEEDS_REGENERATION":return(0,b.jsx)(f.AlertTriangle,{className:"h-4 w-4 text-purple-500"});case"TO_ORDER":return(0,b.jsx)(l,{className:"h-4 w-4 text-sky-500"});case"CRITICAL":return(0,b.jsx)(f.AlertTriangle,{className:"h-4 w-4 text-red-500"});default:return(0,b.jsx)(i,{className:"h-4 w-4 text-slate-400"})}};return(0,b.jsxs)("div",{className:"space-y-6 animate-in fade-in duration-500",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-foreground to-foreground/60 bg-clip-text text-transparent",children:"Database Viti e Cilindri"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-1",children:"Gestione magazzino e stato componenti critici."})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(D,{}),(0,b.jsx)(u,{children:(0,b.jsxs)("button",{className:"flex items-center gap-2 bg-emerald-600 text-white px-4 py-2 rounded-lg font-medium shadow-sm hover:shadow-md transition-all hover:-translate-y-0.5 hover:bg-emerald-700",children:[(0,b.jsx)(t.Plus,{className:"h-4 w-4"})," Nuovo"]})}),(0,b.jsxs)(m.default,{href:"/screws/assignment",className:"flex items-center gap-2 bg-primary text-primary-foreground px-4 py-2 rounded-lg font-medium shadow-sm hover:shadow-md transition-all hover:-translate-y-0.5",children:[(0,b.jsx)(i,{className:"h-4 w-4"})," Assegnazione Asset"]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,b.jsx)(E,{label:"Totale Componenti",value:a.length,sub:"In inventario"}),(0,b.jsx)(E,{label:"In Allerta",value:a.filter(a=>"OPTIMAL"!==a.status).length,sub:"Richiedono attenzione",alert:a.filter(a=>"OPTIMAL"!==a.status).length>0}),(0,b.jsx)(E,{label:"Magazzino Retinato",value:a.filter(a=>"RETINATO"===a.warehouse&&!a.assignedAssetId).length,sub:"Pezzi disponibili"}),(0,b.jsx)(E,{label:"Magazzino Magliato",value:a.filter(a=>"MAGLIATO"===a.warehouse&&!a.assignedAssetId).length,sub:"Pezzi disponibili"})]}),(0,b.jsxs)("div",{className:"rounded-xl border bg-card shadow-sm overflow-hidden",children:[(0,b.jsxs)("div",{className:"p-4 border-b flex flex-col sm:flex-row gap-4 justify-between items-center bg-muted/40",children:[(0,b.jsxs)("div",{className:"relative w-full sm:max-w-xs",children:[(0,b.jsx)(e.Search,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,b.jsx)("input",{type:"text",placeholder:"Cerca per codice o modello...",className:"pl-9 w-full rounded-md border border-input bg-background px-3 py-2 text-sm focus:ring-2 focus:ring-primary outline-none",value:k,onChange:a=>o(a.target.value)})]}),(0,b.jsx)("div",{className:"flex gap-2 w-full sm:w-auto",children:(0,b.jsxs)("select",{className:"w-full sm:w-auto rounded-md border border-input bg-background px-3 py-2 text-sm outline-none",value:p,onChange:a=>q(a.target.value),children:[(0,b.jsx)("option",{value:"ALL",children:"Tutti i Magazzini"}),(0,b.jsx)("option",{value:"RETINATO",children:"Retinato"}),(0,b.jsx)("option",{value:"MAGLIATO",children:"Magliato"})]})})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,b.jsx)("thead",{className:"bg-muted/50 text-muted-foreground font-medium border-b",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-4 py-3",children:"Codice"}),(0,b.jsx)("th",{className:"px-4 py-3",children:"Modello"}),(0,b.jsx)("th",{className:"px-4 py-3",children:"Tipo"}),(0,b.jsx)("th",{className:"px-4 py-3",children:"Stato"}),(0,b.jsx)("th",{className:"px-4 py-3",children:"Ultima Misura"}),(0,b.jsx)("th",{className:"px-4 py-3",children:"Assegnazione/Posizione"}),(0,b.jsx)("th",{className:"px-4 py-3 text-right",children:"Azioni"})]})}),(0,b.jsx)("tbody",{className:"divide-y",children:0===r.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:7,className:"px-4 py-8 text-center text-muted-foreground italic",children:"Nessun componente trovato."})}):r.map(a=>{let c;return(0,b.jsxs)("tr",{className:(0,n.cn)("hover:bg-muted/50 transition-colors",a.isScrapped&&"bg-red-50 hover:bg-red-100 opacity-75"),children:[(0,b.jsx)("td",{className:"px-4 py-3 font-medium font-mono",children:(0,b.jsx)(A,{component:a,children:(0,b.jsxs)("button",{className:"text-left hover:underline decoration-primary hover:text-primary transition-colors flex items-center gap-2",children:[a.code,a.isScrapped&&(0,b.jsx)("span",{className:"text-[10px] bg-red-200 text-red-800 px-1 rounded",children:"ROTTAMATA"})]})})}),(0,b.jsx)("td",{className:"px-4 py-3",children:a.model}),(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsx)("span",{className:(0,n.cn)("px-2 py-0.5 rounded text-xs border","SCREW"===a.type?"bg-orange-50 text-orange-700 border-orange-200":"bg-blue-50 text-blue-700 border-blue-200"),children:"SCREW"===a.type?"VITE":"CILINDRO"})}),(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,b.jsx)(v,{status:a.status}),(0,b.jsx)("span",{className:(0,n.cn)("text-xs font-medium","OPTIMAL"===a.status?"text-emerald-600":"WARNING"===a.status?"text-amber-600":"NEEDS_NITRIDING"===a.status?"text-orange-600":"NEEDS_REGENERATION"===a.status?"text-purple-600":"TO_ORDER"===a.status?"text-sky-600":"text-red-600"),children:"NEEDS_NITRIDING"===a.status?"NITRURARE":"NEEDS_REGENERATION"===a.status?"RIGENERARE":"TO_ORDER"===a.status?"DA ORDINARE":a.status})]})}),(0,b.jsx)("td",{className:"px-4 py-3 text-muted-foreground",children:a.measurements.length>0?`${a.measurements[a.measurements.length-1].value1} mm`:"-"}),(0,b.jsx)("td",{className:"px-4 py-3",children:a.assignedAssetId?(c=h.find(b=>b.id===a.assignedAssetId),(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-slate-100 text-slate-700 border font-medium whitespace-nowrap mb-0.5 w-fit",children:[(0,b.jsx)("span",{className:"w-2 h-2 rounded-full bg-green-500 mr-2"}),c?.name||"Asset Sconosciuto"]}),c?.line&&(0,b.jsx)("span",{className:"text-[10px] text-muted-foreground ml-1",children:c.line})]})):(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-amber-50 text-amber-700 border w-fit whitespace-nowrap mb-1",children:[(0,b.jsx)("span",{className:"w-2 h-2 rounded-full bg-amber-400 mr-2"}),a.warehouse]}),(0,b.jsx)("span",{className:"text-xs text-muted-foreground ml-1",children:a.location})]})}),(0,b.jsx)("td",{className:"px-4 py-3 text-right",children:(0,b.jsx)("div",{className:"flex items-center justify-end gap-1",children:(0,b.jsx)(s,{component:a,children:(0,b.jsx)("button",{className:"p-2 hover:bg-muted rounded-md text-primary transition-colors",title:"Aggiungi Misura",children:(0,b.jsx)(j,{className:"h-4 w-4"})})})})})]},a.id)})})]})})]})]})}function D(){let[a,d]=(0,c.useState)(!1);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{onClick:()=>d(!0),className:"flex items-center gap-2 bg-white text-muted-foreground border px-3 py-2 rounded-lg font-medium shadow-sm hover:bg-muted transition-colors",title:"Legenda Stati",children:(0,b.jsx)(k,{className:"h-4 w-4"})}),a&&(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in",onClick:()=>d(!1),children:(0,b.jsxs)("div",{className:"w-full max-w-lg bg-white rounded-xl shadow-xl border animate-in zoom-in-95 duration-200 p-6",onClick:a=>a.stopPropagation(),children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[(0,b.jsx)(k,{className:"h-5 w-5 text-primary"}),"Legenda Stati Usura"]}),(0,b.jsxs)("button",{onClick:()=>d(!1),className:"p-1 hover:bg-muted rounded text-muted-foreground",children:[(0,b.jsx)("div",{className:"sr-only",children:"Chiudi"}),(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-x h-5 w-5",children:[(0,b.jsx)("path",{d:"M18 6 6 18"}),(0,b.jsx)("path",{d:"m6 6 12 12"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium mb-2 text-sm text-muted-foreground uppercase tracking-wider",children:"Viti (Differenza Nominale)"}),(0,b.jsxs)("div",{className:"border rounded-lg overflow-hidden text-sm",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 bg-muted/50 font-medium p-2 border-b",children:[(0,b.jsx)("div",{children:"Soglia (mm)"}),(0,b.jsx)("div",{children:"Stato"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 p-2 border-b",children:[(0,b.jsx)("div",{children:"< 0.4"}),(0,b.jsxs)("div",{className:"text-emerald-600 font-medium flex items-center gap-2",children:[(0,b.jsx)(g.CheckCircle2,{className:"h-3 w-3"})," OPTIMAL"]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 p-2 border-b",children:[(0,b.jsx)("div",{children:"0.5 - 0.6"}),(0,b.jsxs)("div",{className:"text-orange-600 font-medium flex items-center gap-2",children:[(0,b.jsx)(f.AlertTriangle,{className:"h-3 w-3"})," NITRURARE"]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 p-2 border-b",children:[(0,b.jsx)("div",{children:"0.61 - 1.0"}),(0,b.jsxs)("div",{className:"text-purple-600 font-medium flex items-center gap-2",children:[(0,b.jsx)(f.AlertTriangle,{className:"h-3 w-3"})," RIGENERARE"]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 p-2",children:[(0,b.jsx)("div",{children:"> 1.0"}),(0,b.jsxs)("div",{className:"text-red-600 font-medium flex items-center gap-2",children:[(0,b.jsx)(f.AlertTriangle,{className:"h-3 w-3"})," ROTTAMARE"]})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium mb-2 text-sm text-muted-foreground uppercase tracking-wider",children:"Cilindri (Differenza Nominale)"}),(0,b.jsxs)("div",{className:"border rounded-lg overflow-hidden text-sm",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 bg-muted/50 font-medium p-2 border-b",children:[(0,b.jsx)("div",{children:"Soglia (mm)"}),(0,b.jsx)("div",{children:"Stato"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 p-2 border-b",children:[(0,b.jsx)("div",{children:"< 0.7"}),(0,b.jsxs)("div",{className:"text-emerald-600 font-medium flex items-center gap-2",children:[(0,b.jsx)(g.CheckCircle2,{className:"h-3 w-3"})," OPTIMAL"]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 p-2 border-b",children:[(0,b.jsx)("div",{children:"0.7 - 0.8"}),(0,b.jsxs)("div",{className:"text-sky-600 font-medium flex items-center gap-2",children:[(0,b.jsx)(l,{className:"h-3 w-3"})," DA ORDINARE"]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 p-2",children:[(0,b.jsx)("div",{children:"> 0.8"}),(0,b.jsxs)("div",{className:"text-red-600 font-medium flex items-center gap-2",children:[(0,b.jsx)(f.AlertTriangle,{className:"h-3 w-3"})," ROTTAMARE"]})]})]})]})]})]})})]})}function E({label:a,value:c,sub:d,alert:e}){return(0,b.jsxs)("div",{className:(0,n.cn)("p-4 rounded-xl border bg-card shadow-sm",e&&"border-red-200 bg-red-50"),children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground font-medium",children:a}),(0,b.jsx)("div",{className:(0,n.cn)("text-2xl font-bold mt-1",e&&"text-red-600"),children:c}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:d})]})}a.s(["default",()=>C],93516)}];

//# sourceMappingURL=app_%28dashboard%29_screws_page_tsx_fb6315af._.js.map