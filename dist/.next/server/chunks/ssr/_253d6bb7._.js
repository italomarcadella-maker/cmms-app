module.exports=[35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},41675,a=>{"use strict";let b=(0,a.i(70106).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["Calendar",()=>b],41675)},41710,a=>{"use strict";let b=(0,a.i(70106).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["Clock",()=>b],41710)},28386,a=>{"use strict";let b={lessThanXSeconds:{one:"meno di un secondo",other:"meno di {{count}} secondi"},xSeconds:{one:"un secondo",other:"{{count}} secondi"},halfAMinute:"alcuni secondi",lessThanXMinutes:{one:"meno di un minuto",other:"meno di {{count}} minuti"},xMinutes:{one:"un minuto",other:"{{count}} minuti"},aboutXHours:{one:"circa un'ora",other:"circa {{count}} ore"},xHours:{one:"un'ora",other:"{{count}} ore"},xDays:{one:"un giorno",other:"{{count}} giorni"},aboutXWeeks:{one:"circa una settimana",other:"circa {{count}} settimane"},xWeeks:{one:"una settimana",other:"{{count}} settimane"},aboutXMonths:{one:"circa un mese",other:"circa {{count}} mesi"},xMonths:{one:"un mese",other:"{{count}} mesi"},aboutXYears:{one:"circa un anno",other:"circa {{count}} anni"},xYears:{one:"un anno",other:"{{count}} anni"},overXYears:{one:"più di un anno",other:"più di {{count}} anni"},almostXYears:{one:"quasi un anno",other:"quasi {{count}} anni"}};var c=a.i(95935);let d={date:(0,c.buildFormatLongFn)({formats:{full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},defaultWidth:"full"}),time:(0,c.buildFormatLongFn)({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:(0,c.buildFormatLongFn)({formats:{full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},defaultWidth:"full"})};var e=a.i(57270),f=a.i(9635);function g(a,b,c){let[d,g]=(0,e.normalizeDates)(c?.in,a,b);return+(0,f.startOfWeek)(d,c)==+(0,f.startOfWeek)(g,c)}let h=["domenica","lunedì","martedì","mercoledì","giovedì","venerdì","sabato"];function i(a){return"'"+h[a]+" alle' p"}let j={lastWeek:(a,b,c)=>{let d=a.getDay();return g(a,b,c)?i(d):0===d?"'domenica scorsa alle' p":"'"+h[d]+" scorso alle' p"},yesterday:"'ieri alle' p",today:"'oggi alle' p",tomorrow:"'domani alle' p",nextWeek:(a,b,c)=>{let d=a.getDay();return g(a,b,c)?i(d):0===d?"'domenica prossima alle' p":"'"+h[d]+" prossimo alle' p"},other:"P"};var k=a.i(12740);let l={ordinalNumber:(a,b)=>String(Number(a)),era:(0,k.buildLocalizeFn)({values:{narrow:["aC","dC"],abbreviated:["a.C.","d.C."],wide:["avanti Cristo","dopo Cristo"]},defaultWidth:"wide"}),quarter:(0,k.buildLocalizeFn)({values:{narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},defaultWidth:"wide",argumentCallback:a=>a-1}),month:(0,k.buildLocalizeFn)({values:{narrow:["G","F","M","A","M","G","L","A","S","O","N","D"],abbreviated:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],wide:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]},defaultWidth:"wide"}),day:(0,k.buildLocalizeFn)({values:{narrow:["D","L","M","M","G","V","S"],short:["dom","lun","mar","mer","gio","ven","sab"],abbreviated:["dom","lun","mar","mer","gio","ven","sab"],wide:["domenica","lunedì","martedì","mercoledì","giovedì","venerdì","sabato"]},defaultWidth:"wide"}),dayPeriod:(0,k.buildLocalizeFn)({values:{narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"}},defaultWidth:"wide",formattingValues:{narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"}},defaultFormattingWidth:"wide"})};var m=a.i(5417);let n={ordinalNumber:(0,a.i(47125).buildMatchPatternFn)({matchPattern:/^(\d+)(º)?/i,parsePattern:/\d+/i,valueCallback:a=>parseInt(a,10)}),era:(0,m.buildMatchFn)({matchPatterns:{narrow:/^(aC|dC)/i,abbreviated:/^(a\.?\s?C\.?|a\.?\s?e\.?\s?v\.?|d\.?\s?C\.?|e\.?\s?v\.?)/i,wide:/^(avanti Cristo|avanti Era Volgare|dopo Cristo|Era Volgare)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^a/i,/^(d|e)/i]},defaultParseWidth:"any"}),quarter:(0,m.buildMatchFn)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^t[1234]/i,wide:/^[1234](º)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:a=>a+1}),month:(0,m.buildMatchFn)({matchPatterns:{narrow:/^[gfmalsond]/i,abbreviated:/^(gen|feb|mar|apr|mag|giu|lug|ago|set|ott|nov|dic)/i,wide:/^(gennaio|febbraio|marzo|aprile|maggio|giugno|luglio|agosto|settembre|ottobre|novembre|dicembre)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^g/i,/^f/i,/^m/i,/^a/i,/^m/i,/^g/i,/^l/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ge/i,/^f/i,/^mar/i,/^ap/i,/^mag/i,/^gi/i,/^l/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,m.buildMatchFn)({matchPatterns:{narrow:/^[dlmgvs]/i,short:/^(do|lu|ma|me|gi|ve|sa)/i,abbreviated:/^(dom|lun|mar|mer|gio|ven|sab)/i,wide:/^(domenica|luned[i|ì]|marted[i|ì]|mercoled[i|ì]|gioved[i|ì]|venerd[i|ì]|sabato)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^g/i,/^v/i,/^s/i],any:[/^d/i,/^l/i,/^ma/i,/^me/i,/^g/i,/^v/i,/^s/i]},defaultParseWidth:"any"}),dayPeriod:(0,m.buildMatchFn)({matchPatterns:{narrow:/^(a|m\.|p|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i,any:/^([ap]\.?\s?m\.?|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mezza/i,noon:/^mezzo/i,morning:/mattina/i,afternoon:/pomeriggio/i,evening:/sera/i,night:/notte/i}},defaultParseWidth:"any"})};a.s(["it",0,{code:"it",formatDistance:(a,c,d)=>{let e,f=b[a];if(e="string"==typeof f?f:1===c?f.one:f.other.replace("{{count}}",c.toString()),d?.addSuffix)if(d.comparison&&d.comparison>0)return"tra "+e;else return e+" fa";return e},formatLong:d,formatRelative:(a,b,c,d)=>{let e=j[a];return"function"==typeof e?e(b,c,d):e},localize:l,match:n,options:{weekStartsOn:1,firstWeekContainsDate:4}}],28386)},82884,a=>{"use strict";var b=a.i(57270);function c(a,c,d){let[e,f]=(0,b.normalizeDates)(d?.in,a,c);return e.getFullYear()===f.getFullYear()&&e.getMonth()===f.getMonth()}a.s(["isSameMonth",()=>c])},68465,86451,a=>{"use strict";var b=a.i(42724),c=a.i(74016);function d(a,d,e){let f=(0,c.toDate)(a,e?.in);if(isNaN(d))return(0,b.constructFrom)(e?.in||a,NaN);if(!d)return f;let g=f.getDate(),h=(0,b.constructFrom)(e?.in||a,f.getTime());return(h.setMonth(f.getMonth()+d+1,0),g>=h.getDate())?h:(f.setFullYear(h.getFullYear(),h.getMonth(),g),f)}function e(a,b,c){return d(a,-b,c)}a.s(["addMonths",()=>d],86451),a.s(["subMonths",()=>e],68465)},30719,a=>{"use strict";var b=a.i(87924),c=a.i(32674),d=a.i(72131),e=a.i(56711),f=a.i(74016),g=a.i(9635),h=a.i(52587),i=a.i(57270),j=a.i(42724),k=a.i(82884),l=a.i(67638);function m(a,b,c){let[d,e]=(0,i.normalizeDates)(c?.in,a,b);return+(0,l.startOfDay)(d)==+(0,l.startOfDay)(e)}var n=a.i(86451),o=a.i(68465);function p(a,b){var c;return m((0,j.constructFrom)(b?.in||a,a),(c=b?.in||a,(0,j.constructFrom)(c,Date.now())))}var q=a.i(28386),r=a.i(70106);let s=(0,r.default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),t=(0,r.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var u=a.i(41675),v=a.i(41710),w=a.i(97895),x=a.i(49741),y=a.i(14512);function z({event:a,compact:c=!0}){let{attributes:d,listeners:e,setNodeRef:f,transform:g,isDragging:h}=(0,x.useDraggable)({id:a.id,data:{event:a}}),i=g?{transform:y.CSS.Translate.toString(g),zIndex:50,opacity:+!h}:void 0;return(0,b.jsx)("div",{ref:f,style:i,...e,...d,className:(0,w.cn)("cursor-grab active:cursor-grabbing",c?"text-[10px] px-1.5 py-0.5 rounded truncate font-medium mb-1":"p-3 border rounded-lg bg-background shadow-sm hover:border-primary/50 transition-colors",c&&("HIGH"===a.priority?"bg-red-100 text-red-700":"MEDIUM"===a.priority?"bg-amber-100 text-amber-700":"bg-blue-100 text-blue-700"),!c&&"bg-white"),children:c?a.title:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,b.jsx)("span",{className:(0,w.cn)("text-[10px] px-1.5 py-0 rounded font-bold uppercase","COMPLETED"===a.status?"bg-green-100 text-green-700":"bg-slate-100 text-slate-700"),children:"IN_PROGRESS"===a.status?"In Corso":"COMPLETED"===a.status?"Fatto":"Aperto"}),(0,b.jsx)("span",{className:"text-xs text-muted-foreground font-mono",children:a.id})]}),(0,b.jsx)("h4",{className:"font-medium text-sm leading-tight mb-1",children:a.title}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground truncate mb-2",children:a.description}),(0,b.jsx)("div",{className:"text-xs flex items-center gap-2 text-muted-foreground border-t pt-2 mt-2",children:(0,b.jsxs)("span",{children:["Assegnato a: ",(0,b.jsx)("strong",{className:"text-foreground",children:a.assignedTo})]})})]})})}function A({day:a,children:c,onClick:d,isSelected:e,isCurrentMonth:f,isTodayDate:g}){let{setNodeRef:h,isOver:i}=(0,x.useDroppable)({id:a.toISOString(),data:{date:a}});return(0,b.jsx)("div",{ref:h,onClick:d,className:(0,w.cn)("relative p-2 border-b border-r min-h-[80px] cursor-pointer transition-colors flex flex-col justify-between",!f&&"bg-muted/10 text-muted-foreground/50",e&&"ring-2 ring-inset ring-primary bg-primary/5",g&&"bg-blue-50/50",i&&"bg-primary/10 ring-2 ring-primary ring-inset"),children:c})}function B({workOrders:a,onMoveEvent:c}){var l;let r,y,B,C,D,E,F,[G,H]=(0,d.useState)(new Date),[I,J]=(0,d.useState)(new Date),[K,L]=(0,d.useState)(null),M=((r=(0,f.toDate)(G,void 0)).setDate(1),r.setHours(0,0,0,0),r),N=(B=(y=(0,f.toDate)(M,void 0)).getMonth(),y.setFullYear(y.getFullYear(),B+1,0),y.setHours(23,59,59,999),y),O=function(a,b){let{start:c,end:d}=function(a,b){let[c,d]=(0,i.normalizeDates)(a,b.start,b.end);return{start:c,end:d}}(void 0,a),e=+c>+d,f=e?+c:+d,g=e?d:c;g.setHours(0,0,0,0);let h=(void 0)??1;if(!h)return[];h<0&&(h=-h,e=!e);let k=[];for(;+g<=f;)k.push((0,j.constructFrom)(c,g)),g.setDate(g.getDate()+h),g.setHours(0,0,0,0);return e?k.reverse():k}({start:(0,g.startOfWeek)(M,{weekStartsOn:1}),end:(l={weekStartsOn:1},C=(0,h.getDefaultOptions)(),D=l?.weekStartsOn??l?.locale?.options?.weekStartsOn??C.weekStartsOn??C.locale?.options?.weekStartsOn??0,F=(E=(0,f.toDate)(N,l?.in)).getDay(),E.setDate(E.getDate()+((F<D?-7:0)+6-(F-D))),E.setHours(23,59,59,999),E)}),P=I?a.filter(a=>m(new Date(a.dueDate),I)):[];return(0,b.jsxs)(x.DndContext,{onDragStart:a=>{a.active.data.current?.event&&L(a.active.data.current.event)},onDragEnd:a=>{let{active:b,over:d}=a;if(L(null),d&&b.id&&c){let a=new Date(d.id);isNaN(a.getTime())||c(b.id,a)}},children:[(0,b.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6 h-[calc(100vh-200px)]",children:[(0,b.jsxs)("div",{className:"flex-1 flex flex-col bg-card border rounded-xl shadow-sm overflow-hidden",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold capitalize",children:(0,e.format)(G,"MMMM yyyy",{locale:q.it})}),(0,b.jsx)("button",{onClick:()=>{let a=new Date;H(a),J(a)},className:"text-xs bg-muted px-2 py-1 rounded hover:bg-muted/80",children:"Oggi"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)("button",{onClick:()=>H((0,o.subMonths)(G,1)),className:"p-2 hover:bg-muted rounded-full text-muted-foreground",children:(0,b.jsx)(s,{className:"h-5 w-5"})}),(0,b.jsx)("button",{onClick:()=>H((0,n.addMonths)(G,1)),className:"p-2 hover:bg-muted rounded-full text-muted-foreground",children:(0,b.jsx)(t,{className:"h-5 w-5"})})]})]}),(0,b.jsx)("div",{className:"grid grid-cols-7 border-b bg-muted/30",children:["Lun","Mar","Mer","Gio","Ven","Sab","Dom"].map(a=>(0,b.jsx)("div",{className:"p-3 text-center text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:a},a))}),(0,b.jsx)("div",{className:"flex-1 grid grid-cols-7 grid-rows-6",children:O.map((c,d)=>{let f=a.filter(a=>m(new Date(a.dueDate),c)),g=I&&m(c,I),h=(0,k.isSameMonth)(c,M);return(0,b.jsxs)(A,{day:c,onClick:()=>J(c),isSelected:!!g,isCurrentMonth:h,isTodayDate:p(c),children:[(0,b.jsx)("div",{className:"flex justify-between items-start",children:(0,b.jsx)("span",{className:(0,w.cn)("text-sm font-medium h-7 w-7 flex items-center justify-center rounded-full",p(c)&&"bg-blue-500 text-white shadow-sm"),children:(0,e.format)(c,"d")})}),(0,b.jsxs)("div",{className:"space-y-1 mt-1",children:[f.slice(0,3).map(a=>(0,b.jsx)(z,{event:a,compact:!0},a.id)),f.length>3&&(0,b.jsxs)("div",{className:"text-[10px] text-muted-foreground pl-1",children:["+ altri ",f.length-3]})]})]},c.toISOString())})})]}),(0,b.jsxs)("div",{className:"w-full lg:w-80 bg-card border rounded-xl shadow-sm flex flex-col overflow-hidden h-full",children:[(0,b.jsx)("div",{className:"p-4 border-b bg-muted/40",children:(0,b.jsxs)("h3",{className:"font-semibold flex items-center gap-2",children:[(0,b.jsx)(v.Clock,{className:"h-4 w-4 text-primary"}),"Attività del ",I?(0,e.format)(I,"d MMMM",{locale:q.it}):"..."]})}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:I?0===P.length?(0,b.jsxs)("div",{className:"text-center text-muted-foreground text-sm py-8 italic flex flex-col items-center gap-2",children:[(0,b.jsx)(u.Calendar,{className:"h-8 w-8 text-neutral-300"}),"Nessuna attività pianificata."]}):P.map(a=>(0,b.jsx)("div",{children:(0,b.jsxs)("div",{className:"p-3 border rounded-lg bg-background shadow-sm hover:border-primary/50 transition-colors",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,b.jsx)("span",{className:(0,w.cn)("text-[10px] px-1.5 py-0 rounded font-bold uppercase","COMPLETED"===a.status?"bg-green-100 text-green-700":"bg-slate-100 text-slate-700"),children:"IN_PROGRESS"===a.status?"In Corso":"COMPLETED"===a.status?"Fatto":"Aperto"}),(0,b.jsx)("span",{className:"text-xs text-muted-foreground font-mono",children:a.id})]}),(0,b.jsx)("h4",{className:"font-medium text-sm leading-tight mb-1",children:a.title}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground truncate mb-2",children:a.description}),(0,b.jsx)("div",{className:"text-xs flex items-center gap-2 text-muted-foreground border-t pt-2 mt-2",children:(0,b.jsxs)("span",{children:["Assegnato a: ",(0,b.jsx)("strong",{className:"text-foreground",children:a.assignedTo})]})})]})},a.id)):(0,b.jsx)("div",{className:"text-center text-muted-foreground text-sm py-8",children:"Seleziona una data"})})]})]}),(0,b.jsx)(x.DragOverlay,{children:K?(0,b.jsx)("div",{className:"opacity-80 rotate-2 pointer-events-none w-[150px]",children:(0,b.jsx)("div",{className:(0,w.cn)("text-[10px] px-1.5 py-0.5 rounded truncate font-medium border shadow-lg","HIGH"===K.priority?"bg-red-100 text-red-700 border-red-200":"MEDIUM"===K.priority?"bg-amber-100 text-amber-700 border-amber-200":"bg-blue-100 text-blue-700 border-blue-200"),children:K.title})}):null})]})}function C(){let{workOrders:a,updateWorkOrder:d}=(0,c.useWorkOrders)();return(0,b.jsxs)("div",{className:"space-y-6 animate-in fade-in duration-500",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-foreground to-foreground/60 bg-clip-text text-transparent",children:"Calendario Manutenzione"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-1",children:"Pianificazione mensile degli interventi."})]}),(0,b.jsx)(B,{workOrders:a,onMoveEvent:(a,b)=>{d(a,{dueDate:b.toISOString()})}})]})}a.s(["default",()=>C],30719)}];

//# sourceMappingURL=_253d6bb7._.js.map