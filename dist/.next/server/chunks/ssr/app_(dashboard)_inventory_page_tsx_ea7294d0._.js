module.exports=[18054,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(17002),e=a.i(15618),f=a.i(80032),g=a.i(73570),h=a.i(81560),i=a.i(73320),j=a.i(4720),k=a.i(33441),l=a.i(92e3),m=a.i(33508);function n(){let{addPart:a}=(0,d.useInventory)(),[e,f]=(0,c.useState)(!1),[g,h]=(0,c.useState)(""),[n,o]=(0,c.useState)([]),[p,q]=(0,c.useState)("");return e?(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in",children:(0,b.jsxs)("div",{className:"w-full max-w-2xl bg-card rounded-xl shadow-xl border animate-in zoom-in-95 flex flex-col max-h-[90vh]",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 border-b shrink-0",children:[(0,b.jsxs)("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[(0,b.jsx)(j.FileText,{className:"h-5 w-5 text-primary"})," Importazione Massiva"]}),(0,b.jsx)("button",{onClick:()=>f(!1),className:"p-1 hover:bg-muted rounded text-muted-foreground",children:(0,b.jsx)(m.X,{className:"h-5 w-5"})})]}),(0,b.jsxs)("div",{className:"p-6 overflow-y-auto flex-1 space-y-4",children:[(0,b.jsxs)("div",{className:"bg-blue-50 border border-blue-100 p-3 rounded-lg text-sm text-blue-800 flex gap-2",children:[(0,b.jsx)("div",{className:"shrink-0",children:(0,b.jsx)(l.AlertCircle,{className:"h-4 w-4"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"Formato supportato (CSV):"}),(0,b.jsx)("p",{className:"font-mono text-xs mt-1",children:"Nome Articolo, Categoria, Magazzino, Quantità, Ubicazione"}),(0,b.jsx)("p",{className:"mt-1 opacity-80",children:"Copia e incolla le righe dal tuo file Excel qui sotto."})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("textarea",{className:"w-full h-32 rounded-md border bg-background p-3 text-sm font-mono focus:ring-2 focus:ring-primary outline-none resize-none",placeholder:"Cuscinetto SKF, Spares, Magazzino A, 10, Scaffale 1\nOlio Idraulico, Consumables, Magazzino B, 50, Scaffale 2",value:g,onChange:a=>h(a.target.value)}),(0,b.jsx)("button",{onClick:()=>{if(q(""),g.trim())try{let a=g.trim().split("\n").map((a,b)=>{let c=a.split(",");return c.length<2?null:{name:c[0]?.trim(),category:c[1]?.trim()||"Consumables",warehouse:c[2]?.trim()||"Magazzino meccanico",quantity:parseInt(c[3]?.trim()||"0"),minQuantity:5,location:c[4]?.trim()||"General"}}).filter(Boolean);0===a.length?q("Nessun dato valido trovato. Usa il formato: Nome, Categoria, Magazzino, Quantità, Posizione"):o(a)}catch(a){q("Errore durante il parsing del testo.")}},className:"text-sm text-primary hover:underline font-medium",children:"Anteprima Dati"})]}),p&&(0,b.jsx)("div",{className:"text-sm text-red-600 bg-red-50 p-2 rounded border border-red-100",children:p}),n.length>0&&(0,b.jsx)("div",{className:"border rounded-lg overflow-hidden",children:(0,b.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,b.jsx)("thead",{className:"bg-muted text-muted-foreground text-xs uppercase",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-3 py-2",children:"Articolo"}),(0,b.jsx)("th",{className:"px-3 py-2",children:"Qtà"}),(0,b.jsx)("th",{className:"px-3 py-2",children:"Magazzino"})]})}),(0,b.jsx)("tbody",{className:"divide-y",children:n.map((a,c)=>(0,b.jsxs)("tr",{className:"bg-card",children:[(0,b.jsx)("td",{className:"px-3 py-2 font-medium",children:a.name}),(0,b.jsx)("td",{className:"px-3 py-2",children:a.quantity}),(0,b.jsx)("td",{className:"px-3 py-2 text-muted-foreground",children:a.warehouse})]},c))})]})})]}),(0,b.jsxs)("div",{className:"p-4 border-t bg-muted/20 flex justify-end gap-2 shrink-0",children:[(0,b.jsx)("button",{onClick:()=>f(!1),className:"px-4 py-2 text-sm font-medium hover:bg-muted rounded-md",children:"Annulla"}),(0,b.jsxs)("button",{onClick:()=>{n.forEach(b=>{a(b)}),f(!1),h(""),o([])},disabled:0===n.length,className:"inline-flex items-center gap-2 bg-primary text-primary-foreground px-4 py-2 rounded-md text-sm font-medium hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,b.jsx)(k.Check,{className:"h-4 w-4"})," Importa ",n.length," Articoli"]})]})]})}):(0,b.jsxs)("button",{onClick:()=>f(!0),className:"inline-flex items-center gap-2 rounded-md border bg-card px-4 py-2 text-sm font-medium hover:bg-muted shadow-sm transition-colors",children:[(0,b.jsx)(i.Upload,{className:"h-4 w-4 text-muted-foreground"}),"Importa Excel/CSV"]})}function o(){let{parts:a,addPart:i,updateQuantity:j,removePart:k}=(0,d.useInventory)(),[l,m]=(0,c.useState)(!1),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)("Consumables"),[s,t]=(0,c.useState)("Magazzino meccanico"),[u,v]=(0,c.useState)(0),[w,x]=(0,c.useState)(5),[y,z]=(0,c.useState)("Shelf A"),[A,B]=(0,c.useState)(""),C=a.filter(a=>a.name.toLowerCase().includes(A.toLowerCase())||a.category.toLowerCase().includes(A.toLowerCase())||a.warehouse.toLowerCase().includes(A.toLowerCase()));return(0,b.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6 animate-in fade-in duration-500",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg bg-primary/10 text-primary",children:(0,b.jsx)(f.Box,{className:"h-6 w-6"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold tracking-tight bg-gradient-to-r from-foreground to-foreground/60 bg-clip-text text-transparent",children:"Magazzino Ricambi"}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:"Monitora scorte e posizioni dei materiali."})]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(n,{}),(0,b.jsxs)("button",{onClick:()=>m(!l),className:"inline-flex items-center gap-2 rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 shadow-sm transition-all hover:scale-105",children:[(0,b.jsx)(e.Plus,{className:`h-4 w-4 transition-transform ${l?"rotate-45":""}`}),l?"Annulla":"Aggiungi Ricambio"]})]})]}),!l&&(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:"text",placeholder:"Cerca ricambi per nome, categoria o magazzino...",className:"pl-9 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring transition-shadow",value:A,onChange:a=>B(a.target.value)}),(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 absolute left-3 top-2.5 text-muted-foreground",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z",clipRule:"evenodd"})})]}),l&&(0,b.jsxs)("div",{className:"rounded-xl border bg-card p-6 shadow-sm animate-in fade-in slide-in-from-top-4",children:[(0,b.jsx)("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:(0,b.jsxs)("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[(0,b.jsx)(f.Box,{className:"h-4 w-4 text-primary"})," Nuovo Ricambio"]})}),(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),i({name:o,category:q,warehouse:s,quantity:Number(u),minQuantity:Number(w),location:y}),m(!1),p(""),v(0),x(5)},className:"grid md:grid-cols-2 lg:grid-cols-5 gap-4 items-end",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Nome Articolo"}),(0,b.jsx)("input",{required:!0,className:"flex h-10 w-full rounded-md border bg-background px-3 py-2 text-sm focus:ring-2 focus:ring-primary/20 transition-all",value:o,onChange:a=>p(a.target.value),placeholder:"e.g. Cuscinetto SKF 6204"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Categoria"}),(0,b.jsxs)("select",{className:"flex h-10 w-full rounded-md border bg-background px-3 py-2 text-sm",value:q,onChange:a=>r(a.target.value),children:[(0,b.jsx)("option",{value:"Consumables",children:"Consumabili"}),(0,b.jsx)("option",{value:"Spares",children:"Ricambi Critici"}),(0,b.jsx)("option",{value:"Tools",children:"Utensili"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Magazzino"}),(0,b.jsxs)("select",{className:"flex h-10 w-full rounded-md border bg-background px-3 py-2 text-sm",value:s,onChange:a=>t(a.target.value),children:[(0,b.jsx)("option",{value:"Magazzino motori",children:"Magazzino motori"}),(0,b.jsx)("option",{value:"Magazzino Elettrico",children:"Magazzino Elettrico"}),(0,b.jsx)("option",{value:"Magazzino meccanico",children:"Magazzino meccanico"}),(0,b.jsx)("option",{value:"Deposito magazzino dischi",children:"Deposito magazzino dischi"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Ubicazione"}),(0,b.jsx)("input",{required:!0,className:"flex h-10 w-full rounded-md border bg-background px-3 py-2 text-sm",value:y,onChange:a=>z(a.target.value),placeholder:"e.g. Scaffale A"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Quantità Iniziale"}),(0,b.jsx)("input",{type:"number",min:"0",required:!0,className:"flex h-10 w-full rounded-md border bg-background px-3 py-2 text-sm",value:u,onChange:a=>v(Number(a.target.value))})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Min. Scorta"}),(0,b.jsx)("input",{type:"number",min:"0",required:!0,className:"flex h-10 w-full rounded-md border bg-background px-3 py-2 text-sm",value:w,onChange:a=>x(Number(a.target.value))})]}),(0,b.jsxs)("div",{className:"lg:col-span-5 flex justify-end gap-2 pt-4",children:[(0,b.jsx)("button",{type:"button",onClick:()=>m(!1),className:"px-4 py-2 rounded-md text-sm font-medium text-muted-foreground hover:bg-muted transition-colors",children:"Annulla"}),(0,b.jsx)("button",{type:"submit",className:"bg-primary text-primary-foreground px-6 py-2 rounded-md text-sm font-medium shadow-sm hover:shadow-md transition-all hover:-translate-y-0.5",children:"Salva Articolo"})]})]})]}),(0,b.jsx)("div",{className:"rounded-xl border bg-card shadow-sm overflow-hidden",children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-sm",children:[(0,b.jsx)("thead",{className:"bg-muted/40 font-medium",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-4 py-3 text-left",children:"Articolo"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left",children:"Categoria"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left",children:"Magazzino"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left",children:"Ubicazione"}),(0,b.jsx)("th",{className:"px-4 py-3 text-center",children:"Disponibilità"}),(0,b.jsx)("th",{className:"px-4 py-3 text-right",children:"Azioni"})]})}),(0,b.jsx)("tbody",{className:"divide-y text-left",children:0===C.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:6,className:"p-8 text-center text-muted-foreground italic",children:"Nessun articolo trovato."})}):C.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-muted/50 transition-colors",children:[(0,b.jsxs)("td",{className:"px-4 py-3 font-medium",children:[a.name,(0,b.jsx)("div",{className:"text-xs text-muted-foreground font-mono",children:a.id})]}),(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsx)("span",{className:"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",children:"Consumables"===a.category?"Consumabili":"Spares"===a.category?"Ricambi Critici":"Tools"===a.category?"Utensili":a.category})}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-muted-foreground",children:a.warehouse}),(0,b.jsx)("td",{className:"px-4 py-3",children:a.location}),(0,b.jsxs)("td",{className:"px-4 py-3 text-center",children:[(0,b.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,b.jsx)("button",{onClick:()=>j(a.id,Math.max(0,a.quantity-1)),className:"w-6 h-6 rounded bg-muted flex items-center justify-center hover:bg-muted-foreground/20 font-bold transition-colors",children:"-"}),(0,b.jsx)("span",{className:`w-8 font-mono font-medium ${a.quantity<=a.minQuantity?"text-destructive":""}`,children:a.quantity}),(0,b.jsx)("button",{onClick:()=>j(a.id,a.quantity+1),className:"w-6 h-6 rounded bg-muted flex items-center justify-center hover:bg-muted-foreground/20 font-bold transition-colors",children:"+"})]}),a.quantity<=a.minQuantity&&(0,b.jsxs)("div",{className:"flex items-center justify-center gap-1 text-xs text-destructive mt-1 font-medium animate-pulse",children:[(0,b.jsx)(g.AlertTriangle,{className:"h-3 w-3"})," Scorta Bassa"]})]}),(0,b.jsxs)("td",{className:"px-4 py-3 text-right",children:[(0,b.jsx)("button",{onClick:()=>{let b=prompt(`Quanti pezzi di '${a.name}' vuoi scaricare?`,"1");if(b&&!isNaN(Number(b))){let c=Number(b);if(c>a.quantity)return void alert("Quantità insufficiente!");j(a.id,a.quantity-c)}},className:"text-amber-600 hover:bg-amber-50 transition-colors p-2 rounded-md mr-1",title:"Scarico Manuale",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(f.Box,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"absolute -bottom-1 -right-1 text-[10px] font-bold bg-white rounded-full border border-amber-600 w-3 h-3 flex items-center justify-center",children:"-"})]})}),(0,b.jsx)("button",{onClick:()=>k(a.id),className:"text-muted-foreground hover:text-white hover:bg-destructive transition-colors p-2 rounded-md",title:"Rimuovi",children:(0,b.jsx)(h.Trash2,{className:"h-4 w-4"})})]})]},a.id))})]})})})]})}a.s(["default",()=>o],18054)}];

//# sourceMappingURL=app_%28dashboard%29_inventory_page_tsx_ea7294d0._.js.map