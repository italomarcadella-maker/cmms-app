module.exports=[38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},46058,(a,b,c)=>{"use strict";function d(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(d=function(a){return a?c:b})(a)}c._=function(a,b){if(!b&&a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var c=d(b);if(c&&c.has(a))return c.get(a);var e={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if("default"!==g&&Object.prototype.hasOwnProperty.call(a,g)){var h=f?Object.getOwnPropertyDescriptor(a,g):null;h&&(h.get||h.set)?Object.defineProperty(e,g,h):e[g]=a[g]}return e.default=a,c&&c.set(a,e),e}},88347,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d,e={ACTION_HMR_REFRESH:function(){return k},ACTION_NAVIGATE:function(){return h},ACTION_REFRESH:function(){return g},ACTION_RESTORE:function(){return i},ACTION_SERVER_ACTION:function(){return l},ACTION_SERVER_PATCH:function(){return j},PrefetchKind:function(){return m}};for(var f in e)Object.defineProperty(c,f,{enumerable:!0,get:e[f]});let g="refresh",h="navigate",i="restore",j="server-patch",k="hmr-refresh",l="server-action";var m=((d={}).AUTO="auto",d.FULL="full",d);("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},67009,(a,b,c)=>{"use strict";function d(a){return null!==a&&"object"==typeof a&&"then"in a&&"function"==typeof a.then}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"isThenable",{enumerable:!0,get:function(){return d}})},90841,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={dispatchAppRouterAction:function(){return i},useActionQueue:function(){return j}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(46058)._(a.r(72131)),g=a.r(67009),h=null;function i(a){if(null===h)throw Object.defineProperty(Error("Internal Next.js error: Router action dispatched before initialization."),"__NEXT_ERROR_CODE",{value:"E668",enumerable:!1,configurable:!0});h(a)}function j(a){let[b,c]=f.default.useState(a.state);h=b=>a.dispatch(b,c);let d=(0,f.useMemo)(()=>b,[b]);return(0,g.isThenable)(d)?(0,f.use)(d):d}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},20611,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"callServer",{enumerable:!0,get:function(){return g}});let d=a.r(72131),e=a.r(88347),f=a.r(90841);async function g(a,b){return new Promise((c,g)=>{(0,d.startTransition)(()=>{(0,f.dispatchAppRouterAction)({type:e.ACTION_SERVER_ACTION,actionId:a,actionArgs:b,resolve:c,reject:g})})})}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},1722,(a,b,c)=>{"use strict";let d;Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"findSourceMapURL",{enumerable:!0,get:function(){return d}});("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},5050,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={callServer:function(){return f.callServer},createServerReference:function(){return h.createServerReference},findSourceMapURL:function(){return g.findSourceMapURL}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(20611),g=a.r(1722),h=a.r(38783)},32674,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(5050);let e=(0,d.createServerReference)("60d3e716e08ab84193c3658a4a36c47b06f106dc42",d.callServer,void 0,d.findSourceMapURL,"updateWorkOrderStatus"),f=(0,d.createServerReference)("40d426bd11fadd4d5e8068c34e64a81c361934c2c1",d.callServer,void 0,d.findSourceMapURL,"createWorkOrder"),g=(0,c.createContext)(void 0);function h({children:a,initialWorkOrders:d=[]}){let[h,i]=(0,c.useState)(d);(0,c.useEffect)(()=>{i(d)},[d]);let j=async a=>{i(b=>[a,...b]);try{await f(a)}catch(b){console.error("Failed to create work order",b),i(b=>b.filter(b=>b.id!==a.id))}},k=async(a,b)=>{i(c=>c.map(c=>c.id===a?{...c,status:b}:c));try{await e(a,b)}catch(a){console.error("Failed to update status",a)}};return(0,b.jsx)(g.Provider,{value:{workOrders:h,addWorkOrder:j,updateWorkOrderStatus:k,updateWorkOrder:(a,b)=>{i(c=>c.map(c=>c.id===a?{...c,...b}:c))}},children:a})}function i(){let a=(0,c.useContext)(g);if(void 0===a)throw Error("useWorkOrders must be used within a WorkOrdersProvider");return a}a.s(["WorkOrdersProvider",()=>h,"useWorkOrders",()=>i],32674)},20285,a=>{"use strict";var b=a.i(87924),c=a.i(72131);let d=(0,c.createContext)(void 0);function e({children:a,initialAssets:e=[]}){let[f,g]=(0,c.useState)(e);return(0,c.useEffect)(()=>{g(e)},[e]),(0,b.jsx)(d.Provider,{value:{assets:f,addAsset:a=>{let b={...a,id:a.id||`ASSET-${Date.now()}`};g(a=>[b,...a])},updateAsset:(a,b)=>{g(c=>c.map(c=>c.id===a?{...c,...b}:c))}},children:a})}function f(){let a=(0,c.useContext)(d);if(void 0===a)throw Error("useAssets must be used within an AssetsProvider");return a}a.s(["AssetsProvider",()=>e,"useAssets",()=>f])},39118,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={DEFAULT_SEGMENT_KEY:function(){return l},NOT_FOUND_SEGMENT_KEY:function(){return m},PAGE_SEGMENT_KEY:function(){return k},addSearchParamsIfPageSegment:function(){return i},computeSelectedLayoutSegment:function(){return j},getSegmentValue:function(){return f},getSelectedLayoutSegmentPath:function(){return function a(b,c,d=!0,e=[]){let g;if(d)g=b[1][c];else{let a=b[1];g=a.children??Object.values(a)[0]}if(!g)return e;let h=f(g[0]);return!h||h.startsWith(k)?e:(e.push(h),a(g,c,!1,e))}},isGroupSegment:function(){return g},isParallelRouteSegment:function(){return h}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});function f(a){return Array.isArray(a)?a[1]:a}function g(a){return"("===a[0]&&a.endsWith(")")}function h(a){return a.startsWith("@")&&"@children"!==a}function i(a,b){if(a.includes(k)){let a=JSON.stringify(b);return"{}"!==a?k+"?"+a:k}return a}function j(a,b){if(!a||0===a.length)return null;let c="children"===b?a[0]:a[a.length-1];return c===l?null:c}let k="__PAGE__",l="__DEFAULT__",m="/_not-found"},74368,a=>{"use strict";var b=a.i(87924),c=a.i(72131);let d=[{id:"T-001",name:"Mario Rossi",specialty:"Hydraulics",hourlyRate:45},{id:"T-002",name:"Luigi Verdi",specialty:"Electronics",hourlyRate:50},{id:"T-003",name:"Elena Bianchi",specialty:"Robotics",hourlyRate:60},{id:"T-004",name:"Giulia Neri",specialty:"General",hourlyRate:40}],e=[{id:"ACT-001",label:"Quarterly Maintenance"},{id:"ACT-002",label:"Oil Change"},{id:"ACT-003",label:"Sensor Calibration"},{id:"ACT-004",label:"Leak Inspection"},{id:"ACT-005",label:"Component Replacement"}],f=(0,c.createContext)(void 0);function g({children:a}){let[g,h]=(0,c.useState)([]),[i,j]=(0,c.useState)([]),[k,l]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{let a=localStorage.getItem("technicians"),b=localStorage.getItem("activities");if(a)try{let b=JSON.parse(a).map(a=>({...a,hourlyRate:a.hourlyRate||40}));h(b)}catch(a){h(d)}else h(d);if(b)try{j(JSON.parse(b))}catch(a){j(e)}else j(e);l(!0)},[]),(0,c.useEffect)(()=>{k&&(localStorage.setItem("technicians",JSON.stringify(g)),localStorage.setItem("activities",JSON.stringify(i)))},[g,i,k]),(0,b.jsx)(f.Provider,{value:{technicians:g,activities:i,addTechnician:(a,b,c)=>{let d={id:`T-${Math.floor(1e4*Math.random())}`,name:a,specialty:b,hourlyRate:c};h(a=>[...a,d])},removeTechnician:a=>{h(b=>b.filter(b=>b.id!==a))},addActivity:(a,b)=>{let c={id:`ACT-${Math.floor(1e4*Math.random())}`,label:a,category:b};j(a=>[...a,c])},removeActivity:a=>{j(b=>b.filter(b=>b.id!==a))}},children:a})}function h(){let a=(0,c.useContext)(f);if(!a)throw Error("useReference must be used within a ReferenceProvider");return a}a.s(["ReferenceProvider",()=>g,"useReference",()=>h],74368)},17002,a=>{"use strict";var b=a.i(87924),c=a.i(72131);let d=(0,c.createContext)(void 0);function e({children:a}){let[e,f]=(0,c.useState)([]),[g,h]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{let a=localStorage.getItem("inventory");if(a)try{f(JSON.parse(a))}catch(a){console.error("Failed to parse inventory",a)}h(!0)},[]),(0,c.useEffect)(()=>{g&&localStorage.setItem("inventory",JSON.stringify(e))},[e,g]),(0,b.jsx)(d.Provider,{value:{parts:e,addPart:a=>{let b={...a,id:`PART-${Math.floor(1e4*Math.random())}`,lastUpdated:new Date().toISOString()};f(a=>[...a,b])},updateQuantity:(a,b)=>{f(c=>c.map(c=>c.id===a?{...c,quantity:b,lastUpdated:new Date().toISOString()}:c))},removePart:a=>{f(b=>b.filter(b=>b.id!==a))}},children:a})}function f(){let a=(0,c.useContext)(d);if(!a)throw Error("useInventory must be used within an InventoryProvider");return a}a.s(["InventoryProvider",()=>e,"useInventory",()=>f])},2439,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(32674);let e=(0,c.createContext)(void 0);function f({children:a}){let[f,g]=(0,c.useState)([]),{addWorkOrder:h}=(0,d.useWorkOrders)(),[i,j]=(0,c.useState)(!1),k=[{id:"PM-001",assetId:"AST-001",assetName:"Hydraulic Press X200",taskTitle:"Monthly Hydraulic Inspection",description:"Check oil levels, pressure valves, and look for leaks.",frequencyDays:30,lastRunDate:"2023-12-01",nextDueDate:"2024-01-01"},{id:"PM-002",assetId:"AST-002",assetName:"Conveyor Belt Motor",taskTitle:"Quarterly Motor Service",description:"Grease bearings and check belt tension.",frequencyDays:90,lastRunDate:"2023-10-15",nextDueDate:"2024-01-13"}];return(0,c.useEffect)(()=>{let a=localStorage.getItem("pm_schedules");if(a)try{g(JSON.parse(a))}catch(a){g(k)}else g(k);j(!0)},[]),(0,c.useEffect)(()=>{i&&localStorage.setItem("pm_schedules",JSON.stringify(f))},[f,i]),(0,b.jsx)(e.Provider,{value:{schedules:f,addSchedule:a=>{g(b=>[...b,a])},deleteSchedule:a=>{g(b=>b.filter(b=>b.id!==a))},generateDueWorkOrders:()=>{let a=new Date,b=0,c=f.map(c=>{let d=new Date(c.nextDueDate);if(d<=a){h({id:`WO-PM-${Date.now()}-${b}`,title:`[PM] ${c.taskTitle}`,description:c.description,assetId:c.assetId,assetName:c.assetName,priority:"MEDIUM",status:"OPEN",assignedTo:"Unassigned",dueDate:c.nextDueDate,createdAt:new Date().toISOString(),partsUsed:[],laborLogs:[],checklist:[],category:"OTHER"}),b++;let a=new Date(d);return a.setDate(a.getDate()+c.frequencyDays),{...c,lastRunDate:new Date().toISOString().split("T")[0],nextDueDate:a.toISOString().split("T")[0]}}return c});return b>0&&g(c),b}},children:a})}function g(){let a=(0,c.useContext)(e);if(!a)throw Error("usePM must be used within a PMProvider");return a}a.s(["PMProvider",()=>f,"usePM",()=>g])}];

//# sourceMappingURL=_a412b2fb._.js.map