module.exports=[92e3,a=>{"use strict";let b=(0,a.i(70106).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],92e3)},72800,a=>{"use strict";var b=a.i(87924),c=a.i(32674),d=a.i(20285),e=a.i(17002),f=a.i(70106);let g=(0,f.default)("file-down",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]),h=(0,f.default)("file-spreadsheet",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]),i=(0,f.default)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),j=(0,f.default)("package-check",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);var k=a.i(92e3);function l(){let{workOrders:a}=(0,c.useWorkOrders)(),{assets:f}=(0,d.useAssets)(),{parts:l}=(0,e.useInventory)(),m=(a,b)=>{let c=new Blob([a],{type:"text/csv;charset=utf-8;"}),d=window.URL.createObjectURL(c),e=document.createElement("a");e.download=b,e.href=d,e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)};return(0,b.jsxs)("div",{className:"space-y-6 animate-in fade-in duration-500",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-foreground to-foreground/60 bg-clip-text text-transparent",children:"Estrazioni Dati"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-1",children:"Esporta report e analisi in formato CSV per Excel."})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"rounded-xl border bg-card p-6 shadow-sm hover:shadow-md transition-shadow",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsx)("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg text-blue-600 dark:text-blue-400",children:(0,b.jsx)(i,{className:"h-6 w-6"})}),(0,b.jsxs)("span",{className:"text-xs font-mono text-muted-foreground bg-muted px-2 py-1 rounded",children:[a.length," Records"]})]}),(0,b.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Registro Interventi"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-6 h-10",children:"Scarica lo storico completo degli Ordini di Lavoro, inclusi costi, assegnazioni e tempi di esecuzione."}),(0,b.jsxs)("button",{onClick:()=>{m(["ID,Titolo,Asset,Priorita,Stato,Tecnico,Data Scadenza,Costo Parti (€),Costo Manodopera (€),Totale (€)",...a.map(a=>{let b=a.partsUsed?.reduce((a,b)=>a+b.unitCost*b.quantity,0)||0,c=a.laborLogs?.reduce((a,b)=>a+50*b.hours,0)||0;return[a.id,`"${a.title.replace(/"/g,'""')}"`,`"${a.assetName}"`,a.priority,a.status,a.assignedTo||"Unassigned",new Date(a.dueDate).toLocaleDateString(),b.toFixed(2),c.toFixed(2),(b+c).toFixed(2)].join(",")})].join("\n"),`Interventi_${new Date().toISOString().split("T")[0]}.csv`)},className:"w-full flex items-center justify-center gap-2 bg-background border hover:bg-muted text-foreground px-4 py-2.5 rounded-lg font-medium transition-colors",children:[(0,b.jsx)(h,{className:"h-4 w-4"})," Esporta Interventi"]})]}),(0,b.jsxs)("div",{className:"rounded-xl border bg-card p-6 shadow-sm hover:shadow-md transition-shadow",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsx)("div",{className:"p-3 bg-amber-100 dark:bg-amber-900/30 rounded-lg text-amber-600 dark:text-amber-400",children:(0,b.jsx)(j,{className:"h-6 w-6"})}),(0,b.jsx)("span",{className:"text-xs font-mono text-muted-foreground bg-muted px-2 py-1 rounded",children:"Consumi"})]}),(0,b.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Consumi Materiali"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-6 h-10",children:"Analisi dettagliata dei ricambi utilizzati per ogni intervento, utile per il controllo costi."}),(0,b.jsxs)("button",{onClick:()=>{let b=[];a.forEach(a=>{a.partsUsed&&a.partsUsed.forEach(c=>{b.push([new Date(c.dateAdded||a.createdAt).toLocaleDateString(),`"${c.partName}"`,c.quantity.toString(),c.unitCost.toString(),a.id,`"${a.assetName}"`].join(","))})}),m(["Data,Ricambio,Quantita,Costo Unitario,Intervento ID,Asset",...b].join("\n"),`Consumi_Materiali_${new Date().toISOString().split("T")[0]}.csv`)},className:"w-full flex items-center justify-center gap-2 bg-background border hover:bg-muted text-foreground px-4 py-2.5 rounded-lg font-medium transition-colors",children:[(0,b.jsx)(g,{className:"h-4 w-4"})," Esporta Consumi"]})]}),(0,b.jsxs)("div",{className:"rounded-xl border bg-card p-6 shadow-sm hover:shadow-md transition-shadow",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsx)("div",{className:"p-3 bg-emerald-100 dark:bg-emerald-900/30 rounded-lg text-emerald-600 dark:text-emerald-400",children:(0,b.jsx)(k.AlertCircle,{className:"h-6 w-6"})}),(0,b.jsxs)("span",{className:"text-xs font-mono text-muted-foreground bg-muted px-2 py-1 rounded",children:[l?.length||0," Items"]})]}),(0,b.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Giacenze Magazzino"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-6 h-10",children:"Esporta l'inventario attuale con quantità, valori e livelli di riordino."}),(0,b.jsxs)("button",{onClick:()=>{m(["Codice,Nome,Categoria,Giacenza,Giacenza Min,Locazione,Valore Unitario",...l.map(a=>[a.id,`"${a.name}"`,a.category,a.quantity,a.minQuantity,`"${a.location}"`,a.unitCost||0].join(","))].join("\n"),`Inventario_Magazzino_${new Date().toISOString().split("T")[0]}.csv`)},className:"w-full flex items-center justify-center gap-2 bg-background border hover:bg-muted text-foreground px-4 py-2.5 rounded-lg font-medium transition-colors",children:[(0,b.jsx)(g,{className:"h-4 w-4"})," Esporta Magazzino"]})]}),(0,b.jsxs)("div",{className:"rounded-xl border bg-card p-6 shadow-sm hover:shadow-md transition-shadow",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsx)("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-lg text-purple-600 dark:text-purple-400",children:(0,b.jsx)(h,{className:"h-6 w-6"})}),(0,b.jsxs)("span",{className:"text-xs font-mono text-muted-foreground bg-muted px-2 py-1 rounded",children:[f.length," Asset"]})]}),(0,b.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Parco Asset"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-6 h-10",children:"Lista completa dei macchinari con stato operativo, ubicazione e indici di salute."}),(0,b.jsxs)("button",{onClick:()=>{m(["ID,Nome,Modello,Seriale,Stato,Health Score,Ubicazione,Reparto",...f.map(a=>[a.id,`"${a.name}"`,`"${a.model}"`,`"${a.serialNumber}"`,a.status,a.healthScore,`"${a.location}"`,`"${a.department}"`].join(","))].join("\n"),`Parco_Asset_${new Date().toISOString().split("T")[0]}.csv`)},className:"w-full flex items-center justify-center gap-2 bg-background border hover:bg-muted text-foreground px-4 py-2.5 rounded-lg font-medium transition-colors",children:[(0,b.jsx)(g,{className:"h-4 w-4"})," Esporta Asset"]})]})]})]})}a.s(["default",()=>l],72800)}];

//# sourceMappingURL=_0a102204._.js.map