(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,87316,e=>{"use strict";let t=(0,e.i(75254).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],87316)},3116,e=>{"use strict";let t=(0,e.i(75254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>t],3116)},17727,e=>{"use strict";let t={lessThanXSeconds:{one:"meno di un secondo",other:"meno di {{count}} secondi"},xSeconds:{one:"un secondo",other:"{{count}} secondi"},halfAMinute:"alcuni secondi",lessThanXMinutes:{one:"meno di un minuto",other:"meno di {{count}} minuti"},xMinutes:{one:"un minuto",other:"{{count}} minuti"},aboutXHours:{one:"circa un'ora",other:"circa {{count}} ore"},xHours:{one:"un'ora",other:"{{count}} ore"},xDays:{one:"un giorno",other:"{{count}} giorni"},aboutXWeeks:{one:"circa una settimana",other:"circa {{count}} settimane"},xWeeks:{one:"una settimana",other:"{{count}} settimane"},aboutXMonths:{one:"circa un mese",other:"circa {{count}} mesi"},xMonths:{one:"un mese",other:"{{count}} mesi"},aboutXYears:{one:"circa un anno",other:"circa {{count}} anni"},xYears:{one:"un anno",other:"{{count}} anni"},overXYears:{one:"più di un anno",other:"più di {{count}} anni"},almostXYears:{one:"quasi un anno",other:"quasi {{count}} anni"}};var a=e.i(15e3);let i={date:(0,a.buildFormatLongFn)({formats:{full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},defaultWidth:"full"}),time:(0,a.buildFormatLongFn)({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:(0,a.buildFormatLongFn)({formats:{full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},defaultWidth:"full"})};var n=e.i(45110),r=e.i(14522);function o(e,t,a){let[i,o]=(0,n.normalizeDates)(a?.in,e,t);return+(0,r.startOfWeek)(i,a)==+(0,r.startOfWeek)(o,a)}let s=["domenica","lunedì","martedì","mercoledì","giovedì","venerdì","sabato"];function d(e){return"'"+s[e]+" alle' p"}let l={lastWeek:(e,t,a)=>{let i=e.getDay();return o(e,t,a)?d(i):0===i?"'domenica scorsa alle' p":"'"+s[i]+" scorso alle' p"},yesterday:"'ieri alle' p",today:"'oggi alle' p",tomorrow:"'domani alle' p",nextWeek:(e,t,a)=>{let i=e.getDay();return o(e,t,a)?d(i):0===i?"'domenica prossima alle' p":"'"+s[i]+" prossimo alle' p"},other:"P"};var m=e.i(79564);let c={ordinalNumber:(e,t)=>String(Number(e)),era:(0,m.buildLocalizeFn)({values:{narrow:["aC","dC"],abbreviated:["a.C.","d.C."],wide:["avanti Cristo","dopo Cristo"]},defaultWidth:"wide"}),quarter:(0,m.buildLocalizeFn)({values:{narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:(0,m.buildLocalizeFn)({values:{narrow:["G","F","M","A","M","G","L","A","S","O","N","D"],abbreviated:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],wide:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]},defaultWidth:"wide"}),day:(0,m.buildLocalizeFn)({values:{narrow:["D","L","M","M","G","V","S"],short:["dom","lun","mar","mer","gio","ven","sab"],abbreviated:["dom","lun","mar","mer","gio","ven","sab"],wide:["domenica","lunedì","martedì","mercoledì","giovedì","venerdì","sabato"]},defaultWidth:"wide"}),dayPeriod:(0,m.buildLocalizeFn)({values:{narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"}},defaultWidth:"wide",formattingValues:{narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"}},defaultFormattingWidth:"wide"})};var u=e.i(16283);let g={ordinalNumber:(0,e.i(10961).buildMatchPatternFn)({matchPattern:/^(\d+)(º)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:(0,u.buildMatchFn)({matchPatterns:{narrow:/^(aC|dC)/i,abbreviated:/^(a\.?\s?C\.?|a\.?\s?e\.?\s?v\.?|d\.?\s?C\.?|e\.?\s?v\.?)/i,wide:/^(avanti Cristo|avanti Era Volgare|dopo Cristo|Era Volgare)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^a/i,/^(d|e)/i]},defaultParseWidth:"any"}),quarter:(0,u.buildMatchFn)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^t[1234]/i,wide:/^[1234](º)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:(0,u.buildMatchFn)({matchPatterns:{narrow:/^[gfmalsond]/i,abbreviated:/^(gen|feb|mar|apr|mag|giu|lug|ago|set|ott|nov|dic)/i,wide:/^(gennaio|febbraio|marzo|aprile|maggio|giugno|luglio|agosto|settembre|ottobre|novembre|dicembre)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^g/i,/^f/i,/^m/i,/^a/i,/^m/i,/^g/i,/^l/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ge/i,/^f/i,/^mar/i,/^ap/i,/^mag/i,/^gi/i,/^l/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,u.buildMatchFn)({matchPatterns:{narrow:/^[dlmgvs]/i,short:/^(do|lu|ma|me|gi|ve|sa)/i,abbreviated:/^(dom|lun|mar|mer|gio|ven|sab)/i,wide:/^(domenica|luned[i|ì]|marted[i|ì]|mercoled[i|ì]|gioved[i|ì]|venerd[i|ì]|sabato)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^g/i,/^v/i,/^s/i],any:[/^d/i,/^l/i,/^ma/i,/^me/i,/^g/i,/^v/i,/^s/i]},defaultParseWidth:"any"}),dayPeriod:(0,u.buildMatchFn)({matchPatterns:{narrow:/^(a|m\.|p|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i,any:/^([ap]\.?\s?m\.?|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mezza/i,noon:/^mezzo/i,morning:/mattina/i,afternoon:/pomeriggio/i,evening:/sera/i,night:/notte/i}},defaultParseWidth:"any"})};e.s(["it",0,{code:"it",formatDistance:(e,a,i)=>{let n,r=t[e];if(n="string"==typeof r?r:1===a?r.one:r.other.replace("{{count}}",a.toString()),i?.addSuffix)if(i.comparison&&i.comparison>0)return"tra "+n;else return n+" fa";return n},formatLong:i,formatRelative:(e,t,a,i)=>{let n=l[e];return"function"==typeof n?n(t,a,i):n},localize:c,match:g,options:{weekStartsOn:1,firstWeekContainsDate:4}}],17727)},14921,e=>{"use strict";var t=e.i(45110);function a(e,a,i){let[n,r]=(0,t.normalizeDates)(i?.in,e,a);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}e.s(["isSameMonth",()=>a])},19578,88594,e=>{"use strict";var t=e.i(77241),a=e.i(81092);function i(e,i,n){let r=(0,a.toDate)(e,n?.in);if(isNaN(i))return(0,t.constructFrom)(n?.in||e,NaN);if(!i)return r;let o=r.getDate(),s=(0,t.constructFrom)(n?.in||e,r.getTime());return(s.setMonth(r.getMonth()+i+1,0),o>=s.getDate())?s:(r.setFullYear(s.getFullYear(),s.getMonth(),o),r)}function n(e,t,a){return i(e,-t,a)}e.s(["addMonths",()=>i],88594),e.s(["subMonths",()=>n],19578)},54282,e=>{"use strict";var t=e.i(43476),a=e.i(8493),i=e.i(71645),n=e.i(1851),r=e.i(81092),o=e.i(14522),s=e.i(55024),d=e.i(45110),l=e.i(77241),m=e.i(14921),c=e.i(85890);function u(e,t,a){let[i,n]=(0,d.normalizeDates)(a?.in,e,t);return+(0,c.startOfDay)(i)==+(0,c.startOfDay)(n)}var g=e.i(88594),h=e.i(19578);function x(e,t){var a;return u((0,l.constructFrom)(t?.in||e,e),(a=t?.in||e,(0,l.constructFrom)(a,Date.now())))}var f=e.i(17727),b=e.i(75254);let p=(0,b.default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),v=(0,b.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var y=e.i(87316),w=e.i(3116),M=e.i(47163),j=e.i(77183),N=e.i(7311);function z({event:e,compact:a=!0}){let{attributes:i,listeners:n,setNodeRef:r,transform:o,isDragging:s}=(0,j.useDraggable)({id:e.id,data:{event:e}}),d=o?{transform:N.CSS.Translate.toString(o),zIndex:50,opacity:+!s}:void 0;return(0,t.jsx)("div",{ref:r,style:d,...n,...i,className:(0,M.cn)("cursor-grab active:cursor-grabbing",a?"text-[10px] px-1.5 py-0.5 rounded truncate font-medium mb-1":"p-3 border rounded-lg bg-background shadow-sm hover:border-primary/50 transition-colors",a&&("HIGH"===e.priority?"bg-red-100 text-red-700":"MEDIUM"===e.priority?"bg-amber-100 text-amber-700":"bg-blue-100 text-blue-700"),!a&&"bg-white"),children:a?e.title:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,t.jsx)("span",{className:(0,M.cn)("text-[10px] px-1.5 py-0 rounded font-bold uppercase","COMPLETED"===e.status?"bg-green-100 text-green-700":"bg-slate-100 text-slate-700"),children:"IN_PROGRESS"===e.status?"In Corso":"COMPLETED"===e.status?"Fatto":"Aperto"}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground font-mono",children:e.id})]}),(0,t.jsx)("h4",{className:"font-medium text-sm leading-tight mb-1",children:e.title}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground truncate mb-2",children:e.description}),(0,t.jsx)("div",{className:"text-xs flex items-center gap-2 text-muted-foreground border-t pt-2 mt-2",children:(0,t.jsxs)("span",{children:["Assegnato a: ",(0,t.jsx)("strong",{className:"text-foreground",children:e.assignedTo})]})})]})})}function D({day:e,children:a,onClick:i,isSelected:n,isCurrentMonth:r,isTodayDate:o}){let{setNodeRef:s,isOver:d}=(0,j.useDroppable)({id:e.toISOString(),data:{date:e}});return(0,t.jsx)("div",{ref:s,onClick:i,className:(0,M.cn)("relative p-2 border-b border-r min-h-[80px] cursor-pointer transition-colors flex flex-col justify-between",!r&&"bg-muted/10 text-muted-foreground/50",n&&"ring-2 ring-inset ring-primary bg-primary/5",o&&"bg-blue-50/50",d&&"bg-primary/10 ring-2 ring-primary ring-inset"),children:a})}function k({workOrders:e,onMoveEvent:a}){var c;let b,N,k,C,S,P,F,[O,W]=(0,i.useState)(new Date),[T,E]=(0,i.useState)(new Date),[H,L]=(0,i.useState)(null),A=((b=(0,r.toDate)(O,void 0)).setDate(1),b.setHours(0,0,0,0),b),I=(k=(N=(0,r.toDate)(A,void 0)).getMonth(),N.setFullYear(N.getFullYear(),k+1,0),N.setHours(23,59,59,999),N),Y=function(e,t){let{start:a,end:i}=function(e,t){let[a,i]=(0,d.normalizeDates)(e,t.start,t.end);return{start:a,end:i}}(void 0,e),n=+a>+i,r=n?+a:+i,o=n?i:a;o.setHours(0,0,0,0);let s=(void 0)??1;if(!s)return[];s<0&&(s=-s,n=!n);let m=[];for(;+o<=r;)m.push((0,l.constructFrom)(a,o)),o.setDate(o.getDate()+s),o.setHours(0,0,0,0);return n?m.reverse():m}({start:(0,o.startOfWeek)(A,{weekStartsOn:1}),end:(c={weekStartsOn:1},C=(0,s.getDefaultOptions)(),S=c?.weekStartsOn??c?.locale?.options?.weekStartsOn??C.weekStartsOn??C.locale?.options?.weekStartsOn??0,F=(P=(0,r.toDate)(I,c?.in)).getDay(),P.setDate(P.getDate()+((F<S?-7:0)+6-(F-S))),P.setHours(23,59,59,999),P)}),G=T?e.filter(e=>u(new Date(e.dueDate),T)):[];return(0,t.jsxs)(j.DndContext,{onDragStart:e=>{e.active.data.current?.event&&L(e.active.data.current.event)},onDragEnd:e=>{let{active:t,over:i}=e;if(L(null),i&&t.id&&a){let e=new Date(i.id);isNaN(e.getTime())||a(t.id,e)}},children:[(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6 h-[calc(100vh-200px)]",children:[(0,t.jsxs)("div",{className:"flex-1 flex flex-col bg-card border rounded-xl shadow-sm overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold capitalize",children:(0,n.format)(O,"MMMM yyyy",{locale:f.it})}),(0,t.jsx)("button",{onClick:()=>{let e=new Date;W(e),E(e)},className:"text-xs bg-muted px-2 py-1 rounded hover:bg-muted/80",children:"Oggi"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("button",{onClick:()=>W((0,h.subMonths)(O,1)),className:"p-2 hover:bg-muted rounded-full text-muted-foreground",children:(0,t.jsx)(p,{className:"h-5 w-5"})}),(0,t.jsx)("button",{onClick:()=>W((0,g.addMonths)(O,1)),className:"p-2 hover:bg-muted rounded-full text-muted-foreground",children:(0,t.jsx)(v,{className:"h-5 w-5"})})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-7 border-b bg-muted/30",children:["Lun","Mar","Mer","Gio","Ven","Sab","Dom"].map(e=>(0,t.jsx)("div",{className:"p-3 text-center text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:e},e))}),(0,t.jsx)("div",{className:"flex-1 grid grid-cols-7 grid-rows-6",children:Y.map((a,i)=>{let r=e.filter(e=>u(new Date(e.dueDate),a)),o=T&&u(a,T),s=(0,m.isSameMonth)(a,A);return(0,t.jsxs)(D,{day:a,onClick:()=>E(a),isSelected:!!o,isCurrentMonth:s,isTodayDate:x(a),children:[(0,t.jsx)("div",{className:"flex justify-between items-start",children:(0,t.jsx)("span",{className:(0,M.cn)("text-sm font-medium h-7 w-7 flex items-center justify-center rounded-full",x(a)&&"bg-blue-500 text-white shadow-sm"),children:(0,n.format)(a,"d")})}),(0,t.jsxs)("div",{className:"space-y-1 mt-1",children:[r.slice(0,3).map(e=>(0,t.jsx)(z,{event:e,compact:!0},e.id)),r.length>3&&(0,t.jsxs)("div",{className:"text-[10px] text-muted-foreground pl-1",children:["+ altri ",r.length-3]})]})]},a.toISOString())})})]}),(0,t.jsxs)("div",{className:"w-full lg:w-80 bg-card border rounded-xl shadow-sm flex flex-col overflow-hidden h-full",children:[(0,t.jsx)("div",{className:"p-4 border-b bg-muted/40",children:(0,t.jsxs)("h3",{className:"font-semibold flex items-center gap-2",children:[(0,t.jsx)(w.Clock,{className:"h-4 w-4 text-primary"}),"Attività del ",T?(0,n.format)(T,"d MMMM",{locale:f.it}):"..."]})}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:T?0===G.length?(0,t.jsxs)("div",{className:"text-center text-muted-foreground text-sm py-8 italic flex flex-col items-center gap-2",children:[(0,t.jsx)(y.Calendar,{className:"h-8 w-8 text-neutral-300"}),"Nessuna attività pianificata."]}):G.map(e=>(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:"p-3 border rounded-lg bg-background shadow-sm hover:border-primary/50 transition-colors",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,t.jsx)("span",{className:(0,M.cn)("text-[10px] px-1.5 py-0 rounded font-bold uppercase","COMPLETED"===e.status?"bg-green-100 text-green-700":"bg-slate-100 text-slate-700"),children:"IN_PROGRESS"===e.status?"In Corso":"COMPLETED"===e.status?"Fatto":"Aperto"}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground font-mono",children:e.id})]}),(0,t.jsx)("h4",{className:"font-medium text-sm leading-tight mb-1",children:e.title}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground truncate mb-2",children:e.description}),(0,t.jsx)("div",{className:"text-xs flex items-center gap-2 text-muted-foreground border-t pt-2 mt-2",children:(0,t.jsxs)("span",{children:["Assegnato a: ",(0,t.jsx)("strong",{className:"text-foreground",children:e.assignedTo})]})})]})},e.id)):(0,t.jsx)("div",{className:"text-center text-muted-foreground text-sm py-8",children:"Seleziona una data"})})]})]}),(0,t.jsx)(j.DragOverlay,{children:H?(0,t.jsx)("div",{className:"opacity-80 rotate-2 pointer-events-none w-[150px]",children:(0,t.jsx)("div",{className:(0,M.cn)("text-[10px] px-1.5 py-0.5 rounded truncate font-medium border shadow-lg","HIGH"===H.priority?"bg-red-100 text-red-700 border-red-200":"MEDIUM"===H.priority?"bg-amber-100 text-amber-700 border-amber-200":"bg-blue-100 text-blue-700 border-blue-200"),children:H.title})}):null})]})}function C(){let{workOrders:e,updateWorkOrder:i}=(0,a.useWorkOrders)();return(0,t.jsxs)("div",{className:"space-y-6 animate-in fade-in duration-500",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-foreground to-foreground/60 bg-clip-text text-transparent",children:"Calendario Manutenzione"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-1",children:"Pianificazione mensile degli interventi."})]}),(0,t.jsx)(k,{workOrders:e,onMoveEvent:(e,t)=>{i(e,{dueDate:t.toISOString()})}})]})}e.s(["default",()=>C],54282)}]);