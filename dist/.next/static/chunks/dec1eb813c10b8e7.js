(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,s,t)=>{s.exports=e.r(76562)},7233,e=>{"use strict";let s=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>s],7233)},31278,e=>{"use strict";let s=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>s],31278)},95468,e=>{"use strict";let s=(0,e.i(75254).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>s],95468)},43531,e=>{"use strict";let s=(0,e.i(75254).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>s],43531)},63209,e=>{"use strict";let s=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>s],63209)},72664,e=>{"use strict";let s=(0,e.i(75254).default)("box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);e.s(["Box",()=>s],72664)},55436,e=>{"use strict";let s=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>s],55436)},78583,e=>{"use strict";let s=(0,e.i(75254).default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);e.s(["FileText",()=>s],78583)},69074,e=>{"use strict";let s=(0,e.i(75254).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);e.s(["Upload",()=>s],69074)},43926,e=>{"use strict";var s=e.i(43476),t=e.i(47163),r=e.i(95468),a=e.i(75254);let l=(0,a.default)("octagon-alert",[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]]),i=(0,a.default)("power-off",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),n=(0,a.default)("ban",[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var o=e.i(72664);function d({status:e,className:a}){return(0,s.jsxs)("div",{className:(0,t.cn)("inline-flex items-center gap-1.5 rounded-full px-2 py-1 text-xs font-medium border","OPERATIONAL"===e&&"bg-green-50 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800","MAINTENANCE"===e&&"bg-amber-50 text-amber-700 border-amber-200 dark:bg-amber-900/30 dark:text-amber-300 dark:border-amber-800","OFFLINE"===e&&"bg-gray-100 text-gray-700 border-gray-200 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-700","DECOMMISSIONED"===e&&"bg-red-50 text-red-700 border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800","STORAGE"===e&&"bg-blue-50 text-blue-700 border-blue-200 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-800",a),children:["OPERATIONAL"===e&&(0,s.jsx)(r.CheckCircle2,{className:"h-3 w-3"}),"MAINTENANCE"===e&&(0,s.jsx)(l,{className:"h-3 w-3"}),"OFFLINE"===e&&(0,s.jsx)(i,{className:"h-3 w-3"}),"DECOMMISSIONED"===e&&(0,s.jsx)(n,{className:"h-3 w-3"}),"STORAGE"===e&&(0,s.jsx)(o.Box,{className:"h-3 w-3"}),"OPERATIONAL"===e&&"In Uso","MAINTENANCE"===e&&"In Manutenzione","OFFLINE"===e&&"Offline","DECOMMISSIONED"===e&&"Rottamato","STORAGE"===e&&"Accantonato",!["OPERATIONAL","MAINTENANCE","OFFLINE","DECOMMISSIONED","STORAGE"].includes(e)&&e]})}e.s(["AssetStatusBadge",()=>d],43926)},97909,e=>{"use strict";var s=e.i(43476),t=e.i(71645),r=e.i(18566),a=e.i(7233),l=e.i(55436),i=e.i(72664),n=e.i(75254);let o=(0,n.default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),d=(0,n.default)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);var c=e.i(81233),m=e.i(43926),u=e.i(31278),x=e.i(37727);function f({isOpen:e,onClose:r,asset:a,onSave:l}){let[i,n]=(0,t.useState)(!1),[o,d]=(0,t.useState)(a);(0,t.useEffect)(()=>{d(a)},[a]);let c=e=>{let{name:s,value:t}=e.target;d(e=>({...e,[s]:t}))},m=async e=>{e.preventDefault(),n(!0),await new Promise(e=>setTimeout(e,1e3)),l({...o,id:o.id||`AST-${Math.floor(1e4*Math.random())}`,location:o.location||o.plant||"N/A"}),n(!1),r()};return e?(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:(0,s.jsxs)("div",{className:"relative w-full max-w-2xl rounded-lg border bg-background p-6 shadow-lg animate-in zoom-in-95 duration-200",children:[(0,s.jsxs)("div",{className:"flex flex-col space-y-1.5 text-center sm:text-left mb-4",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold leading-none tracking-tight",children:a.id?"Modifica Asset":"Nuovo Asset"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Inserisci i dettagli del macchinario qui sotto. Clicca salva quando hai finito."})]}),(0,s.jsxs)("button",{onClick:r,className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",children:[(0,s.jsx)(x.X,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]}),(0,s.jsxs)("form",{onSubmit:m,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"name",className:"text-sm font-medium",children:"Nome Asset"}),(0,s.jsx)("input",{id:"name",name:"name",value:o.name||"",onChange:c,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",required:!0,placeholder:"es. Pressa Idraulica"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"model",className:"text-sm font-medium",children:"Modello"}),(0,s.jsx)("input",{id:"model",name:"model",value:o.model||"",onChange:c,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",required:!0,placeholder:"es. X-2000"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"serialNumber",className:"text-sm font-medium",children:"Seriale"}),(0,s.jsx)("input",{id:"serialNumber",name:"serialNumber",value:o.serialNumber||"",onChange:c,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",required:!0,placeholder:"es. SN-123456"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"vendor",className:"text-sm font-medium",children:"Costruttore"}),(0,s.jsx)("input",{id:"vendor",name:"vendor",value:o.vendor||"",onChange:c,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",required:!0,placeholder:"es. Acme Corp"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"plant",className:"text-sm font-medium",children:"Stabilimento"}),(0,s.jsx)("input",{id:"plant",name:"plant",value:o.plant||"",onChange:c,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",required:!0,placeholder:"es. Stabilimento A"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"department",className:"text-sm font-medium",children:"Reparto"}),(0,s.jsx)("input",{id:"department",name:"department",value:o.department||"",onChange:c,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",required:!0,placeholder:"es. Produzione"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"line",className:"text-sm font-medium",children:"Linea"}),(0,s.jsx)("input",{id:"line",name:"line",value:o.line||"",onChange:c,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"es. Linea Assemblaggio 1"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"cespite",className:"text-sm font-medium",children:"Cespite"}),(0,s.jsx)("input",{id:"cespite",name:"cespite",value:o.cespite||"",onChange:c,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"es. CSP-2024-001"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"status",className:"text-sm font-medium",children:"Stato"}),(0,s.jsxs)("select",{id:"status",name:"status",value:o.status||"OPERATIONAL",onChange:e=>d(s=>({...s,status:e.target.value})),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[(0,s.jsx)("option",{value:"OPERATIONAL",children:"In Uso (Operational)"}),(0,s.jsx)("option",{value:"MAINTENANCE",children:"In Manutenzione"}),(0,s.jsx)("option",{value:"STORAGE",children:"Accantonato"}),(0,s.jsx)("option",{value:"DECOMMISSIONED",children:"Rottamato"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"healthScore",className:"text-sm font-medium",children:"Health Score (0-100)"}),(0,s.jsx)("input",{type:"number",id:"healthScore",name:"healthScore",min:"0",max:"100",value:o.healthScore,onChange:c,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]})]})]}),(0,s.jsxs)("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",children:[(0,s.jsx)("button",{type:"button",onClick:r,className:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 mt-2 sm:mt-0",children:"Annulla"}),(0,s.jsxs)("button",{type:"submit",disabled:i,className:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2",children:[i&&(0,s.jsx)(u.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Salva"]})]})]})]})}):null}var h=e.i(69074),p=e.i(78583),b=e.i(43531),g=e.i(63209);function N(){let{addAsset:e}=(0,c.useAssets)(),[r,a]=(0,t.useState)(!1),[l,i]=(0,t.useState)(""),[n,o]=(0,t.useState)([]),[d,m]=(0,t.useState)("");return r?(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in",children:(0,s.jsxs)("div",{className:"w-full max-w-2xl bg-card rounded-xl shadow-xl border animate-in zoom-in-95 flex flex-col max-h-[90vh]",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b shrink-0",children:[(0,s.jsxs)("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[(0,s.jsx)(p.FileText,{className:"h-5 w-5 text-primary"})," Importazione Massiva Asset"]}),(0,s.jsx)("button",{onClick:()=>a(!1),className:"p-1 hover:bg-muted rounded text-muted-foreground",children:(0,s.jsx)(x.X,{className:"h-5 w-5"})})]}),(0,s.jsxs)("div",{className:"p-6 overflow-y-auto flex-1 space-y-4",children:[(0,s.jsxs)("div",{className:"bg-blue-50 border border-blue-100 p-3 rounded-lg text-sm text-blue-800 flex gap-2",children:[(0,s.jsx)("div",{className:"shrink-0",children:(0,s.jsx)(g.AlertCircle,{className:"h-4 w-4"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:"Formato supportato (CSV):"}),(0,s.jsx)("p",{className:"font-mono text-xs mt-1",children:"Nome, Modello, Seriale, Costruttore, Ubicazione"}),(0,s.jsx)("p",{className:"mt-1 opacity-80",children:"Copia e incolla le righe dal tuo file Excel qui sotto."})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("textarea",{className:"w-full h-32 rounded-md border bg-background p-3 text-sm font-mono focus:ring-2 focus:ring-primary outline-none resize-none",placeholder:"Estrusore A, EXT-2000, SN-9988, Bausano, Linea 1\nMulino, GR-500, SN-1122, Tria, Reparto Macinazione",value:l,onChange:e=>i(e.target.value)}),(0,s.jsx)("button",{onClick:()=>{if(m(""),l.trim())try{let e=l.trim().split("\n").map(e=>{let s=e.split(",");return s.length<2?null:{name:s[0]?.trim(),model:s[1]?.trim()||"N/A",serialNumber:s[2]?.trim()||`SN-${Math.floor(1e4*Math.random())}`,vendor:s[3]?.trim()||"Unknown",location:s[4]?.trim()||"Main Plant",status:"OPERATIONAL",healthScore:100,purchaseDate:new Date().toISOString().split("T")[0],plant:"Main Plant",department:"Production",line:"Line 1"}}).filter(Boolean);0===e.length?m("Nessun dato valido trovato. Usa il formato: Nome, Modello, Seriale, Costruttore, Ubicazione"):o(e)}catch(e){m("Errore durante il parsing del testo.")}},className:"text-sm text-primary hover:underline font-medium",children:"Anteprima Dati"})]}),d&&(0,s.jsx)("div",{className:"text-sm text-red-600 bg-red-50 p-2 rounded border border-red-100",children:d}),n.length>0&&(0,s.jsx)("div",{className:"border rounded-lg overflow-hidden",children:(0,s.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,s.jsx)("thead",{className:"bg-muted text-muted-foreground text-xs uppercase",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-3 py-2",children:"Nome"}),(0,s.jsx)("th",{className:"px-3 py-2",children:"Modello"}),(0,s.jsx)("th",{className:"px-3 py-2",children:"Costruttore"})]})}),(0,s.jsx)("tbody",{className:"divide-y",children:n.map((e,t)=>(0,s.jsxs)("tr",{className:"bg-card",children:[(0,s.jsx)("td",{className:"px-3 py-2 font-medium",children:e.name}),(0,s.jsx)("td",{className:"px-3 py-2",children:e.model}),(0,s.jsx)("td",{className:"px-3 py-2 text-muted-foreground",children:e.vendor})]},t))})]})})]}),(0,s.jsxs)("div",{className:"p-4 border-t bg-muted/20 flex justify-end gap-2 shrink-0",children:[(0,s.jsx)("button",{onClick:()=>a(!1),className:"px-4 py-2 text-sm font-medium hover:bg-muted rounded-md",children:"Annulla"}),(0,s.jsxs)("button",{onClick:()=>{n.forEach(s=>{e(s)}),a(!1),i(""),o([])},disabled:0===n.length,className:"inline-flex items-center gap-2 bg-primary text-primary-foreground px-4 py-2 rounded-md text-sm font-medium hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,s.jsx)(b.Check,{className:"h-4 w-4"})," Importa ",n.length," Asset"]})]})]})}):(0,s.jsxs)("button",{onClick:()=>a(!0),className:"flex items-center gap-2 bg-secondary text-secondary-foreground px-4 py-2 rounded-lg font-medium shadow-sm hover:bg-secondary/80 transition-all hover:-translate-y-0.5 border",children:[(0,s.jsx)(h.Upload,{className:"h-4 w-4"})," Importa Excel"]})}function v(){let e=(0,r.useRouter)(),{assets:n,addAsset:u,updateAsset:x}=(0,c.useAssets)(),[h,p]=(0,t.useState)(""),[b,g]=(0,t.useState)([]),[v,j]=(0,t.useState)(!1),[y,k]=(0,t.useState)(null),w={name:"",model:"",serialNumber:"",vendor:"",plant:"Main Plant",department:"",location:"",purchaseDate:"",status:"OPERATIONAL",healthScore:100,lastMaintenance:"",line:"",cespite:""};return(0,t.useEffect)(()=>{if(!n)return;let e=h.toLowerCase();g(n.filter(s=>s.name.toLowerCase().includes(e)||s.model.toLowerCase().includes(e)||s.serialNumber.toLowerCase().includes(e)||s.location.toLowerCase().includes(e)))},[h,n]),(0,s.jsxs)("div",{className:"space-y-6 animate-in fade-in duration-500",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-foreground to-foreground/60 bg-clip-text text-transparent",children:"Asset (Macchinari)"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-1",children:"Gestisci attrezzature e macchinari."})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(N,{}),(0,s.jsxs)("button",{onClick:()=>{k(w),j(!0)},className:"flex items-center gap-2 bg-primary text-primary-foreground px-4 py-2 rounded-lg font-medium shadow-sm hover:shadow-md transition-all hover:-translate-y-0.5",children:[(0,s.jsx)(a.Plus,{className:"h-4 w-4"})," Nuovo Asset"]})]})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(l.Search,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,s.jsx)("input",{type:"text",placeholder:"Cerca asset...",className:"pl-9 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",value:h,onChange:e=>p(e.target.value)})]}),(0,s.jsx)("div",{className:"rounded-xl border bg-card shadow-sm overflow-hidden",children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,s.jsx)("thead",{className:"bg-muted/50 text-muted-foreground font-medium border-b",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-4 py-3",children:"Nome Asset"}),(0,s.jsx)("th",{className:"px-4 py-3",children:"Dettagli"}),(0,s.jsx)("th",{className:"px-4 py-3",children:"Ubicazione"}),(0,s.jsx)("th",{className:"px-4 py-3",children:"Info Aggiuntive"}),(0,s.jsx)("th",{className:"px-4 py-3",children:"Stato"}),(0,s.jsx)("th",{className:"px-4 py-3",children:"Salute"}),(0,s.jsx)("th",{className:"px-4 py-3 w-[50px]"})]})}),(0,s.jsx)("tbody",{className:"divide-y",children:0===b.length?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:7,className:"px-4 py-8 text-center text-muted-foreground italic",children:"Nessun asset trovato."})}):b.map(t=>(0,s.jsxs)("tr",{onClick:()=>e.push(`/assets/${t.id}`),className:"group hover:bg-muted/30 transition-colors cursor-pointer",children:[(0,s.jsx)("td",{className:"px-4 py-3 font-medium",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"h-8 w-8 rounded bg-muted flex items-center justify-center text-muted-foreground group-hover:bg-background group-hover:text-primary transition-colors border",children:(0,s.jsx)(i.Box,{className:"h-4 w-4"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-semibold text-foreground",children:t.name}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground font-mono",children:t.id})]})]})}),(0,s.jsx)("td",{className:"px-4 py-3 text-muted-foreground",children:(0,s.jsxs)("div",{className:"flex flex-col text-xs",children:[(0,s.jsxs)("span",{children:["Mod: ",t.model]}),(0,s.jsxs)("span",{className:"font-mono",children:["SN: ",t.serialNumber]})]})}),(0,s.jsx)("td",{className:"px-4 py-3",children:(0,s.jsxs)("div",{className:"flex flex-col text-xs",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1.5 text-muted-foreground",children:[(0,s.jsx)(o,{className:"h-3 w-3"}),(0,s.jsx)("span",{children:t.location})]}),(0,s.jsx)("span",{className:"text-muted-foreground pl-4.5",children:t.plant})]})}),(0,s.jsx)("td",{className:"px-4 py-3",children:(0,s.jsxs)("div",{className:"flex flex-col text-xs text-muted-foreground",children:[t.department&&(0,s.jsxs)("span",{children:["Dip: ",t.department]}),t.line&&(0,s.jsxs)("span",{children:["Linea: ",t.line]}),t.cespite&&(0,s.jsxs)("span",{className:"font-mono",children:["Cesp: ",t.cespite]})]})}),(0,s.jsx)("td",{className:"px-4 py-3",children:(0,s.jsx)(m.AssetStatusBadge,{status:t.status})}),(0,s.jsx)("td",{className:"px-4 py-3",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"h-1.5 w-16 bg-muted rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:`h-full rounded-full ${t.healthScore>80?"bg-emerald-500":t.healthScore>50?"bg-amber-500":"bg-red-500"}`,style:{width:`${t.healthScore}%`}})}),(0,s.jsxs)("span",{className:"text-xs font-medium",children:[t.healthScore,"%"]})]})}),(0,s.jsx)("td",{className:"px-4 py-3",children:(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),k(t),j(!0)},className:"p-2 hover:bg-background rounded-full text-muted-foreground hover:text-primary shadow-sm border border-transparent hover:border-border transition-all",children:(0,s.jsx)(d,{className:"h-4 w-4"})})})]},t.id))})]})})}),(0,s.jsx)(f,{isOpen:v,onClose:()=>j(!1),asset:y||w,onSave:e=>{e.id&&n.some(s=>s.id===e.id)?x(e.id,e):u(e),j(!1),k(null)}})]})}e.s(["default",()=>v],97909)}]);