(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,78894,e=>{"use strict";let t=(0,e.i(75254).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>t],78894)},43531,e=>{"use strict";let t=(0,e.i(75254).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>t],43531)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},27612,e=>{"use strict";let t=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>t],27612)},63209,e=>{"use strict";let t=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],63209)},72664,e=>{"use strict";let t=(0,e.i(75254).default)("box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);e.s(["Box",()=>t],72664)},78583,e=>{"use strict";let t=(0,e.i(75254).default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);e.s(["FileText",()=>t],78583)},69074,e=>{"use strict";let t=(0,e.i(75254).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);e.s(["Upload",()=>t],69074)},19608,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(69581),i=e.i(7233),r=e.i(72664),l=e.i(78894),n=e.i(27612),o=e.i(69074),d=e.i(78583),c=e.i(43531),m=e.i(63209),u=e.i(37727);function x(){let{addPart:e}=(0,s.useInventory)(),[i,r]=(0,a.useState)(!1),[l,n]=(0,a.useState)(""),[x,h]=(0,a.useState)([]),[p,g]=(0,a.useState)("");return i?(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in",children:(0,t.jsxs)("div",{className:"w-full max-w-2xl bg-card rounded-xl shadow-xl border animate-in zoom-in-95 flex flex-col max-h-[90vh]",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border-b shrink-0",children:[(0,t.jsxs)("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[(0,t.jsx)(d.FileText,{className:"h-5 w-5 text-primary"})," Importazione Massiva"]}),(0,t.jsx)("button",{onClick:()=>r(!1),className:"p-1 hover:bg-muted rounded text-muted-foreground",children:(0,t.jsx)(u.X,{className:"h-5 w-5"})})]}),(0,t.jsxs)("div",{className:"p-6 overflow-y-auto flex-1 space-y-4",children:[(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-100 p-3 rounded-lg text-sm text-blue-800 flex gap-2",children:[(0,t.jsx)("div",{className:"shrink-0",children:(0,t.jsx)(m.AlertCircle,{className:"h-4 w-4"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Formato supportato (CSV):"}),(0,t.jsx)("p",{className:"font-mono text-xs mt-1",children:"Nome Articolo, Categoria, Magazzino, Quantità, Ubicazione"}),(0,t.jsx)("p",{className:"mt-1 opacity-80",children:"Copia e incolla le righe dal tuo file Excel qui sotto."})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("textarea",{className:"w-full h-32 rounded-md border bg-background p-3 text-sm font-mono focus:ring-2 focus:ring-primary outline-none resize-none",placeholder:"Cuscinetto SKF, Spares, Magazzino A, 10, Scaffale 1\nOlio Idraulico, Consumables, Magazzino B, 50, Scaffale 2",value:l,onChange:e=>n(e.target.value)}),(0,t.jsx)("button",{onClick:()=>{if(g(""),l.trim())try{let e=l.trim().split("\n").map((e,t)=>{let a=e.split(",");return a.length<2?null:{name:a[0]?.trim(),category:a[1]?.trim()||"Consumables",warehouse:a[2]?.trim()||"Magazzino meccanico",quantity:parseInt(a[3]?.trim()||"0"),minQuantity:5,location:a[4]?.trim()||"General"}}).filter(Boolean);0===e.length?g("Nessun dato valido trovato. Usa il formato: Nome, Categoria, Magazzino, Quantità, Posizione"):h(e)}catch(e){g("Errore durante il parsing del testo.")}},className:"text-sm text-primary hover:underline font-medium",children:"Anteprima Dati"})]}),p&&(0,t.jsx)("div",{className:"text-sm text-red-600 bg-red-50 p-2 rounded border border-red-100",children:p}),x.length>0&&(0,t.jsx)("div",{className:"border rounded-lg overflow-hidden",children:(0,t.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,t.jsx)("thead",{className:"bg-muted text-muted-foreground text-xs uppercase",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-3 py-2",children:"Articolo"}),(0,t.jsx)("th",{className:"px-3 py-2",children:"Qtà"}),(0,t.jsx)("th",{className:"px-3 py-2",children:"Magazzino"})]})}),(0,t.jsx)("tbody",{className:"divide-y",children:x.map((e,a)=>(0,t.jsxs)("tr",{className:"bg-card",children:[(0,t.jsx)("td",{className:"px-3 py-2 font-medium",children:e.name}),(0,t.jsx)("td",{className:"px-3 py-2",children:e.quantity}),(0,t.jsx)("td",{className:"px-3 py-2 text-muted-foreground",children:e.warehouse})]},a))})]})})]}),(0,t.jsxs)("div",{className:"p-4 border-t bg-muted/20 flex justify-end gap-2 shrink-0",children:[(0,t.jsx)("button",{onClick:()=>r(!1),className:"px-4 py-2 text-sm font-medium hover:bg-muted rounded-md",children:"Annulla"}),(0,t.jsxs)("button",{onClick:()=>{x.forEach(t=>{e(t)}),r(!1),n(""),h([])},disabled:0===x.length,className:"inline-flex items-center gap-2 bg-primary text-primary-foreground px-4 py-2 rounded-md text-sm font-medium hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,t.jsx)(c.Check,{className:"h-4 w-4"})," Importa ",x.length," Articoli"]})]})]})}):(0,t.jsxs)("button",{onClick:()=>r(!0),className:"inline-flex items-center gap-2 rounded-md border bg-card px-4 py-2 text-sm font-medium hover:bg-muted shadow-sm transition-colors",children:[(0,t.jsx)(o.Upload,{className:"h-4 w-4 text-muted-foreground"}),"Importa Excel/CSV"]})}function h(){let{parts:e,addPart:o,updateQuantity:d,removePart:c}=(0,s.useInventory)(),[m,u]=(0,a.useState)(!1),[h,p]=(0,a.useState)(""),[g,f]=(0,a.useState)("Consumables"),[b,y]=(0,a.useState)("Magazzino meccanico"),[j,N]=(0,a.useState)(0),[v,w]=(0,a.useState)(5),[z,k]=(0,a.useState)("Shelf A"),[C,M]=(0,a.useState)(""),S=e.filter(e=>e.name.toLowerCase().includes(C.toLowerCase())||e.category.toLowerCase().includes(C.toLowerCase())||e.warehouse.toLowerCase().includes(C.toLowerCase()));return(0,t.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6 animate-in fade-in duration-500",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-primary/10 text-primary",children:(0,t.jsx)(r.Box,{className:"h-6 w-6"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold tracking-tight bg-gradient-to-r from-foreground to-foreground/60 bg-clip-text text-transparent",children:"Magazzino Ricambi"}),(0,t.jsx)("p",{className:"text-muted-foreground text-sm",children:"Monitora scorte e posizioni dei materiali."})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(x,{}),(0,t.jsxs)("button",{onClick:()=>u(!m),className:"inline-flex items-center gap-2 rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 shadow-sm transition-all hover:scale-105",children:[(0,t.jsx)(i.Plus,{className:`h-4 w-4 transition-transform ${m?"rotate-45":""}`}),m?"Annulla":"Aggiungi Ricambio"]})]})]}),!m&&(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"text",placeholder:"Cerca ricambi per nome, categoria o magazzino...",className:"pl-9 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring transition-shadow",value:C,onChange:e=>M(e.target.value)}),(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 absolute left-3 top-2.5 text-muted-foreground",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z",clipRule:"evenodd"})})]}),m&&(0,t.jsxs)("div",{className:"rounded-xl border bg-card p-6 shadow-sm animate-in fade-in slide-in-from-top-4",children:[(0,t.jsx)("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:(0,t.jsxs)("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[(0,t.jsx)(r.Box,{className:"h-4 w-4 text-primary"})," Nuovo Ricambio"]})}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),o({name:h,category:g,warehouse:b,quantity:Number(j),minQuantity:Number(v),location:z}),u(!1),p(""),N(0),w(5)},className:"grid md:grid-cols-2 lg:grid-cols-5 gap-4 items-end",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Nome Articolo"}),(0,t.jsx)("input",{required:!0,className:"flex h-10 w-full rounded-md border bg-background px-3 py-2 text-sm focus:ring-2 focus:ring-primary/20 transition-all",value:h,onChange:e=>p(e.target.value),placeholder:"e.g. Cuscinetto SKF 6204"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Categoria"}),(0,t.jsxs)("select",{className:"flex h-10 w-full rounded-md border bg-background px-3 py-2 text-sm",value:g,onChange:e=>f(e.target.value),children:[(0,t.jsx)("option",{value:"Consumables",children:"Consumabili"}),(0,t.jsx)("option",{value:"Spares",children:"Ricambi Critici"}),(0,t.jsx)("option",{value:"Tools",children:"Utensili"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Magazzino"}),(0,t.jsxs)("select",{className:"flex h-10 w-full rounded-md border bg-background px-3 py-2 text-sm",value:b,onChange:e=>y(e.target.value),children:[(0,t.jsx)("option",{value:"Magazzino motori",children:"Magazzino motori"}),(0,t.jsx)("option",{value:"Magazzino Elettrico",children:"Magazzino Elettrico"}),(0,t.jsx)("option",{value:"Magazzino meccanico",children:"Magazzino meccanico"}),(0,t.jsx)("option",{value:"Deposito magazzino dischi",children:"Deposito magazzino dischi"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Ubicazione"}),(0,t.jsx)("input",{required:!0,className:"flex h-10 w-full rounded-md border bg-background px-3 py-2 text-sm",value:z,onChange:e=>k(e.target.value),placeholder:"e.g. Scaffale A"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Quantità Iniziale"}),(0,t.jsx)("input",{type:"number",min:"0",required:!0,className:"flex h-10 w-full rounded-md border bg-background px-3 py-2 text-sm",value:j,onChange:e=>N(Number(e.target.value))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Min. Scorta"}),(0,t.jsx)("input",{type:"number",min:"0",required:!0,className:"flex h-10 w-full rounded-md border bg-background px-3 py-2 text-sm",value:v,onChange:e=>w(Number(e.target.value))})]}),(0,t.jsxs)("div",{className:"lg:col-span-5 flex justify-end gap-2 pt-4",children:[(0,t.jsx)("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 rounded-md text-sm font-medium text-muted-foreground hover:bg-muted transition-colors",children:"Annulla"}),(0,t.jsx)("button",{type:"submit",className:"bg-primary text-primary-foreground px-6 py-2 rounded-md text-sm font-medium shadow-sm hover:shadow-md transition-all hover:-translate-y-0.5",children:"Salva Articolo"})]})]})]}),(0,t.jsx)("div",{className:"rounded-xl border bg-card shadow-sm overflow-hidden",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{className:"bg-muted/40 font-medium",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left",children:"Articolo"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left",children:"Categoria"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left",children:"Magazzino"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left",children:"Ubicazione"}),(0,t.jsx)("th",{className:"px-4 py-3 text-center",children:"Disponibilità"}),(0,t.jsx)("th",{className:"px-4 py-3 text-right",children:"Azioni"})]})}),(0,t.jsx)("tbody",{className:"divide-y text-left",children:0===S.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:6,className:"p-8 text-center text-muted-foreground italic",children:"Nessun articolo trovato."})}):S.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-muted/50 transition-colors",children:[(0,t.jsxs)("td",{className:"px-4 py-3 font-medium",children:[e.name,(0,t.jsx)("div",{className:"text-xs text-muted-foreground font-mono",children:e.id})]}),(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsx)("span",{className:"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",children:"Consumables"===e.category?"Consumabili":"Spares"===e.category?"Ricambi Critici":"Tools"===e.category?"Utensili":e.category})}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-muted-foreground",children:e.warehouse}),(0,t.jsx)("td",{className:"px-4 py-3",children:e.location}),(0,t.jsxs)("td",{className:"px-4 py-3 text-center",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,t.jsx)("button",{onClick:()=>d(e.id,Math.max(0,e.quantity-1)),className:"w-6 h-6 rounded bg-muted flex items-center justify-center hover:bg-muted-foreground/20 font-bold transition-colors",children:"-"}),(0,t.jsx)("span",{className:`w-8 font-mono font-medium ${e.quantity<=e.minQuantity?"text-destructive":""}`,children:e.quantity}),(0,t.jsx)("button",{onClick:()=>d(e.id,e.quantity+1),className:"w-6 h-6 rounded bg-muted flex items-center justify-center hover:bg-muted-foreground/20 font-bold transition-colors",children:"+"})]}),e.quantity<=e.minQuantity&&(0,t.jsxs)("div",{className:"flex items-center justify-center gap-1 text-xs text-destructive mt-1 font-medium animate-pulse",children:[(0,t.jsx)(l.AlertTriangle,{className:"h-3 w-3"})," Scorta Bassa"]})]}),(0,t.jsxs)("td",{className:"px-4 py-3 text-right",children:[(0,t.jsx)("button",{onClick:()=>{let t=prompt(`Quanti pezzi di '${e.name}' vuoi scaricare?`,"1");if(t&&!isNaN(Number(t))){let a=Number(t);if(a>e.quantity)return void alert("Quantità insufficiente!");d(e.id,e.quantity-a)}},className:"text-amber-600 hover:bg-amber-50 transition-colors p-2 rounded-md mr-1",title:"Scarico Manuale",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(r.Box,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"absolute -bottom-1 -right-1 text-[10px] font-bold bg-white rounded-full border border-amber-600 w-3 h-3 flex items-center justify-center",children:"-"})]})}),(0,t.jsx)("button",{onClick:()=>c(e.id),className:"text-muted-foreground hover:text-white hover:bg-destructive transition-colors p-2 rounded-md",title:"Rimuovi",children:(0,t.jsx)(n.Trash2,{className:"h-4 w-4"})})]})]},e.id))})]})})})]})}e.s(["default",()=>h],19608)}]);