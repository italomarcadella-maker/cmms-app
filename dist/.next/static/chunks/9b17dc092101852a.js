(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,78894,e=>{"use strict";let s=(0,e.i(75254).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>s],78894)},95468,e=>{"use strict";let s=(0,e.i(75254).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>s],95468)},87316,e=>{"use strict";let s=(0,e.i(75254).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>s],87316)},7233,e=>{"use strict";let s=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>s],7233)},27612,e=>{"use strict";let s=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>s],27612)},21218,e=>{"use strict";let s=(0,e.i(75254).default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);e.s(["Activity",()=>s],21218)},55436,e=>{"use strict";let s=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>s],55436)},78583,e=>{"use strict";let s=(0,e.i(75254).default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);e.s(["FileText",()=>s],78583)},69074,e=>{"use strict";let s=(0,e.i(75254).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);e.s(["Upload",()=>s],69074)},56909,e=>{"use strict";let s=(0,e.i(75254).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>s],56909)},3900,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(17360),r=e.i(55436),l=e.i(78894),i=e.i(95468),d=e.i(75254);let n=(0,d.default)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),c=(0,d.default)("ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]),o=(0,d.default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),m=(0,d.default)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);var x=e.i(22016),u=e.i(47163),h=e.i(37727),p=e.i(56909),g=e.i(87316),f=e.i(91432);function j({component:e,children:r}){let{addMeasurement:l}=(0,a.useComponents)(),{user:i}=(0,f.useAuth)(),[d,n]=(0,t.useState)(!1),[o,m]=(0,t.useState)(""),[x,u]=(0,t.useState)(new Date().toISOString().split("T")[0]),[j,N]=(0,t.useState)(i?i.name:"");return(0,t.useEffect)(()=>{i&&N(i.name)},[i]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{onClick:()=>n(!0),children:r}),d&&(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in",children:(0,s.jsxs)("div",{className:"w-full max-w-md bg-white rounded-xl shadow-xl border animate-in zoom-in-95 duration-200",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,s.jsxs)("h3",{className:"font-semibold text-lg",children:["Nuova Misura: ",e.code]}),(0,s.jsx)("button",{onClick:()=>n(!1),className:"p-1 hover:bg-muted rounded text-muted-foreground",children:(0,s.jsx)(h.X,{className:"h-5 w-5"})})]}),(0,s.jsxs)("form",{onSubmit:s=>{s.preventDefault(),o&&(l(e.id,{date:x,value1:parseFloat(o),operator:j||(i?i.name:"Unknown")}),m(""),u(new Date().toISOString().split("T")[0]),n(!1))},className:"p-4 space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Data Rilevazione"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(g.Calendar,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,s.jsx)("input",{type:"date",required:!0,className:"flex h-10 w-full rounded-md border bg-background pl-9 pr-3 py-2 text-sm focus:ring-2 focus:ring-primary outline-none",value:x,onChange:e=>u(e.target.value)})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Operatore"}),(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)("input",{type:"text",className:"flex h-10 w-full rounded-md border bg-background px-3 py-2 text-sm focus:ring-2 focus:ring-primary outline-none",placeholder:"Nome Operatore",value:j,onChange:e=>N(e.target.value)})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Diametro Rilevato (mm)"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(c,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,s.jsx)("input",{autoFocus:!0,type:"number",step:"0.01",className:"flex h-10 w-full rounded-md border bg-background pl-9 pr-3 py-2 text-sm focus:ring-2 focus:ring-primary outline-none",placeholder:"es. 49.95",value:o,onChange:e=>m(e.target.value)})]})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2 pt-2",children:[(0,s.jsx)("button",{type:"button",onClick:()=>n(!1),className:"px-4 py-2 text-sm font-medium hover:bg-muted rounded-md",children:"Annulla"}),(0,s.jsxs)("button",{type:"submit",className:"inline-flex items-center gap-2 bg-primary text-primary-foreground px-4 py-2 rounded-md text-sm font-medium hover:bg-primary/90",children:[(0,s.jsx)(p.Save,{className:"h-4 w-4"})," Salva Misura"]})]})]})]})})]})}var N=e.i(7233);function b({children:e}){let{addComponent:r}=(0,a.useComponents)(),[l,i]=(0,t.useState)(!1),[d,n]=(0,t.useState)(""),[c,o]=(0,t.useState)(""),[m,x]=(0,t.useState)("SCREW"),[u,p]=(0,t.useState)("JOLLY"),[g,f]=(0,t.useState)(""),[j,b]=(0,t.useState)("RETINATO"),[v,y]=(0,t.useState)("");return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{onClick:()=>i(!0),children:e}),l&&(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in",children:(0,s.jsxs)("div",{className:"w-full max-w-lg bg-card rounded-xl shadow-xl border animate-in zoom-in-95 duration-200",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,s.jsx)("h3",{className:"font-semibold text-lg",children:"Nuovo Componente"}),(0,s.jsx)("button",{onClick:()=>i(!1),className:"p-1 hover:bg-muted rounded text-muted-foreground",children:(0,s.jsx)(h.X,{className:"h-5 w-5"})})]}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),r({code:d,model:c,type:m,usageType:u,manufacturer:g,warehouse:j,location:v,status:"OPTIMAL",measurements:[],purchaseDate:new Date().toISOString().split("T")[0],hoursUsed:0,assignedAssetId:void 0}),n(""),o(""),x("SCREW"),p("JOLLY"),f(""),b("RETINATO"),y(""),i(!1)},className:"p-4 space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Codice Identificativo"}),(0,s.jsx)("input",{required:!0,className:"w-full rounded-md border bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-primary",placeholder:"es. VITE-2024-001",value:d,onChange:e=>n(e.target.value)})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Costruttore"}),(0,s.jsx)("input",{required:!0,className:"w-full rounded-md border bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-primary",placeholder:"es. Bausano",value:g,onChange:e=>f(e.target.value)})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Modello / Descrizione"}),(0,s.jsx)("input",{required:!0,className:"w-full rounded-md border bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-primary",placeholder:"es. Vite Ø50mm PVC",value:c,onChange:e=>o(e.target.value)})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Tipo Componente"}),(0,s.jsxs)("div",{className:"flex bg-muted/50 p-1 rounded-lg",children:[(0,s.jsx)("button",{type:"button",onClick:()=>x("SCREW"),className:`flex-1 py-1 text-xs font-medium rounded-md transition-all ${"SCREW"===m?"bg-background shadow-sm text-foreground":"text-muted-foreground"}`,children:"VITE"}),(0,s.jsx)("button",{type:"button",onClick:()=>x("BARREL"),className:`flex-1 py-1 text-xs font-medium rounded-md transition-all ${"BARREL"===m?"bg-background shadow-sm text-foreground":"text-muted-foreground"}`,children:"CILINDRO"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Magazzino"}),(0,s.jsxs)("select",{className:"w-full rounded-md border bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-primary",value:j,onChange:e=>b(e.target.value),children:[(0,s.jsx)("option",{value:"RETINATO",children:"Retinato"}),(0,s.jsx)("option",{value:"MAGLIATO",children:"Magliato"})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Utilizzo (Tipologia)"}),(0,s.jsxs)("select",{className:"w-full rounded-md border bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-primary",value:u,onChange:e=>p(e.target.value),children:[(0,s.jsx)("option",{value:"SOTTOSTRATO",children:"Sottostrato"}),(0,s.jsx)("option",{value:"COPERTURA",children:"Copertura"}),(0,s.jsx)("option",{value:"JOLLY",children:"Jolly"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Posizione (Scaffale)"}),(0,s.jsx)("input",{required:!0,className:"w-full rounded-md border bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-primary",placeholder:"es. A-12",value:v,onChange:e=>y(e.target.value)})]})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[(0,s.jsx)("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 text-sm font-medium hover:bg-muted rounded-md",children:"Annulla"}),(0,s.jsxs)("button",{type:"submit",className:"inline-flex items-center gap-2 bg-primary text-primary-foreground px-4 py-2 rounded-md text-sm font-medium hover:bg-primary/90",children:[(0,s.jsx)(N.Plus,{className:"h-4 w-4"})," Aggiungi"]})]})]})]})})]})}var v=e.i(78583),y=e.i(21218),w=e.i(27612),k=e.i(69074);let C=(0,d.default)("file",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]]);function A({component:e,children:r}){let{updateComponent:l}=(0,a.useComponents)(),[i,d]=(0,t.useState)(!1),[n,c]=(0,t.useState)("INFO"),[o,m]=(0,t.useState)(e.referenceDrawing||""),[x,g]=(0,t.useState)(e.nominalDiameter||0),[f,j]=(0,t.useState)(e.drawingUrl||""),[N,b]=(0,t.useState)(e.isScrapped||!1),[A,T]=(0,t.useState)(e.lifecycle||{}),R=(e,s)=>{T(t=>({...t,[e]:s}))};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{onClick:()=>d(!0),className:"cursor-pointer",children:r}),i&&(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in",children:(0,s.jsxs)("div",{className:"w-full max-w-2xl bg-white rounded-xl shadow-xl border animate-in zoom-in-95 duration-200 flex flex-col max-h-[90vh]",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[e.code,N&&(0,s.jsx)("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-0.5 rounded border border-red-200",children:"ROTTAMATA"})]}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.model," • ",e.manufacturer]})]}),(0,s.jsx)("button",{onClick:()=>d(!1),className:"p-1 hover:bg-muted rounded text-muted-foreground",children:(0,s.jsx)(h.X,{className:"h-5 w-5"})})]}),(0,s.jsxs)("div",{className:"flex border-b px-4",children:[(0,s.jsx)("button",{onClick:()=>c("INFO"),className:(0,u.cn)("px-4 py-3 text-sm font-medium border-b-2 transition-colors","INFO"===n?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"),children:"Dati Generali"}),(0,s.jsx)("button",{onClick:()=>c("LIFECYCLE"),className:(0,u.cn)("px-4 py-3 text-sm font-medium border-b-2 transition-colors","LIFECYCLE"===n?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"),children:"Ciclo di Vita"}),(0,s.jsx)("button",{onClick:()=>c("HISTORY"),className:(0,u.cn)("px-4 py-3 text-sm font-medium border-b-2 transition-colors","HISTORY"===n?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"),children:"Cronologia Misure"})]}),(0,s.jsxs)("div",{className:"p-6 overflow-y-auto flex-1",children:["INFO"===n&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Disegno di Riferimento"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(v.FileText,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,s.jsx)("input",{className:"w-full pl-9 rounded-md border bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-primary",placeholder:"Codice Disegno...",value:o,onChange:e=>m(e.target.value)})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Costruttore"}),(0,s.jsx)("div",{className:"px-3 py-2 text-sm border rounded-md bg-muted/50",children:e.manufacturer})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Diametro Nominale (mm)"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(y.Activity,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,s.jsx)("input",{type:"number",className:"w-full pl-9 rounded-md border bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-primary",placeholder:"0.00",value:x||"",onChange:e=>g(parseFloat(e.target.value))})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Data Acquisto"}),(0,s.jsx)("div",{className:"px-3 py-2 text-sm border rounded-md bg-muted/50",children:e.purchaseDate})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Disegno PDF"}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:f?(0,s.jsxs)("div",{className:"flex-1 flex items-center justify-between p-2 border rounded-md bg-green-50 border-green-200",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-green-700 overflow-hidden",children:[(0,s.jsx)(C,{className:"h-4 w-4 shrink-0"}),(0,s.jsx)("a",{href:f,target:"_blank",rel:"noopener noreferrer",className:"text-sm underline truncate max-w-[150px]",children:"Apri Disegno"})]}),(0,s.jsx)("button",{onClick:()=>j(""),className:"p-1 hover:bg-green-100 rounded text-green-700",children:(0,s.jsx)(h.X,{className:"h-3 w-3"})})]}):(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsxs)("label",{className:"flex items-center justify-center w-full p-2 border-2 border-dashed rounded-md cursor-pointer hover:border-primary/50 hover:bg-muted/50 transition-colors group",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground group-hover:text-primary",children:[(0,s.jsx)(k.Upload,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"text-xs font-medium",children:"Carica PDF"})]}),(0,s.jsx)("input",{type:"file",accept:".pdf",className:"hidden",onChange:e=>{let s=e.target.files?.[0];s&&j(URL.createObjectURL(s))}})]})})})]})]}),(0,s.jsxs)("div",{className:"pt-4 border-t",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"checkbox",id:"scrapped",checked:N,onChange:e=>b(e.target.checked),className:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"}),(0,s.jsxs)("label",{htmlFor:"scrapped",className:"text-sm font-medium text-red-600 flex items-center gap-2 cursor-pointer select-none",children:[(0,s.jsx)(w.Trash2,{className:"h-4 w-4"}),"Segna come ROTTAMATA"]})]}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-1 ml-6",children:"Il componente verrà contrassegnato come non più utilizzabile."})]})]}),"LIFECYCLE"===n&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Registra le date degli interventi di manutenzione straordinaria."}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-8",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("h4",{className:"font-semibold text-sm flex items-center gap-2 text-amber-600",children:[(0,s.jsx)(y.Activity,{className:"h-4 w-4"})," Nitrurazioni"]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-xs font-medium",children:"1° Nitrurazione"}),(0,s.jsx)("input",{type:"date",className:"w-full rounded-md border bg-background px-3 py-2 text-sm",value:A.nitriding1||"",onChange:e=>R("nitriding1",e.target.value)})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-xs font-medium",children:"2° Nitrurazione"}),(0,s.jsx)("input",{type:"date",className:"w-full rounded-md border bg-background px-3 py-2 text-sm",value:A.nitriding2||"",onChange:e=>R("nitriding2",e.target.value)})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-xs font-medium",children:"3° Nitrurazione"}),(0,s.jsx)("input",{type:"date",className:"w-full rounded-md border bg-background px-3 py-2 text-sm",value:A.nitriding3||"",onChange:e=>R("nitriding3",e.target.value)})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("h4",{className:"font-semibold text-sm flex items-center gap-2 text-blue-600",children:[(0,s.jsx)(y.Activity,{className:"h-4 w-4"})," Rigenerazioni"]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-xs font-medium",children:"1° Rigenerazione"}),(0,s.jsx)("input",{type:"date",className:"w-full rounded-md border bg-background px-3 py-2 text-sm",value:A.regeneration1||"",onChange:e=>R("regeneration1",e.target.value)})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-xs font-medium",children:"2° Rigenerazione"}),(0,s.jsx)("input",{type:"date",className:"w-full rounded-md border bg-background px-3 py-2 text-sm",value:A.regeneration2||"",onChange:e=>R("regeneration2",e.target.value)})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-xs font-medium",children:"3° Rigenerazione"}),(0,s.jsx)("input",{type:"date",className:"w-full rounded-md border bg-background px-3 py-2 text-sm",value:A.regeneration3||"",onChange:e=>R("regeneration3",e.target.value)})]})]})]})]}),"HISTORY"===n&&(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,s.jsx)("thead",{className:"bg-muted text-muted-foreground font-medium",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-3 py-2",children:"Data"}),(0,s.jsx)("th",{className:"px-3 py-2",children:"Valore"}),(0,s.jsx)("th",{className:"px-3 py-2",children:"Operatore"})]})}),(0,s.jsx)("tbody",{className:"divide-y",children:0===e.measurements.length?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:3,className:"px-3 py-4 text-center text-muted-foreground italic",children:"Nessuna misurazione registrata."})}):[...e.measurements].reverse().map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-3 py-2",children:e.date}),(0,s.jsx)("td",{className:"px-3 py-2 font-mono",children:e.value1}),(0,s.jsx)("td",{className:"px-3 py-2 text-muted-foreground",children:e.operator})]},t))})]})})]}),(0,s.jsxs)("div",{className:"p-4 border-t bg-muted/40 flex justify-end gap-2",children:[(0,s.jsx)("button",{onClick:()=>d(!1),className:"px-4 py-2 text-sm font-medium hover:bg-muted rounded-md",children:"Chiudi"}),("INFO"===n||"LIFECYCLE"===n)&&(0,s.jsxs)("button",{onClick:()=>{l(e.id,{referenceDrawing:o,nominalDiameter:x,drawingUrl:f,isScrapped:N,lifecycle:A}),d(!1)},className:"flex items-center gap-2 bg-primary text-primary-foreground px-4 py-2 rounded-md text-sm font-medium hover:bg-primary/90",children:[(0,s.jsx)(p.Save,{className:"h-4 w-4"})," Salva Modifiche"]})]})]})})]})}var T=e.i(81233);function R(){let{components:e}=(0,a.useComponents)(),{assets:d}=(0,T.useAssets)(),[o,h]=(0,t.useState)(""),[p,g]=(0,t.useState)("ALL"),f=e.filter(e=>{let s=e.code.toLowerCase().includes(o.toLowerCase())||e.model.toLowerCase().includes(o.toLowerCase()),t="ALL"===p||e.warehouse===p;return s&&t}),v=({status:e})=>{switch(e){case"OPTIMAL":return(0,s.jsx)(i.CheckCircle2,{className:"h-4 w-4 text-emerald-500"});case"WARNING":return(0,s.jsx)(l.AlertTriangle,{className:"h-4 w-4 text-amber-500"});case"NEEDS_NITRIDING":return(0,s.jsx)(l.AlertTriangle,{className:"h-4 w-4 text-orange-500"});case"NEEDS_REGENERATION":return(0,s.jsx)(l.AlertTriangle,{className:"h-4 w-4 text-purple-500"});case"TO_ORDER":return(0,s.jsx)(m,{className:"h-4 w-4 text-sky-500"});case"CRITICAL":return(0,s.jsx)(l.AlertTriangle,{className:"h-4 w-4 text-red-500"});default:return(0,s.jsx)(n,{className:"h-4 w-4 text-slate-400"})}};return(0,s.jsxs)("div",{className:"space-y-6 animate-in fade-in duration-500",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-foreground to-foreground/60 bg-clip-text text-transparent",children:"Database Viti e Cilindri"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-1",children:"Gestione magazzino e stato componenti critici."})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(S,{}),(0,s.jsx)(b,{children:(0,s.jsxs)("button",{className:"flex items-center gap-2 bg-emerald-600 text-white px-4 py-2 rounded-lg font-medium shadow-sm hover:shadow-md transition-all hover:-translate-y-0.5 hover:bg-emerald-700",children:[(0,s.jsx)(N.Plus,{className:"h-4 w-4"})," Nuovo"]})}),(0,s.jsxs)(x.default,{href:"/screws/assignment",className:"flex items-center gap-2 bg-primary text-primary-foreground px-4 py-2 rounded-lg font-medium shadow-sm hover:shadow-md transition-all hover:-translate-y-0.5",children:[(0,s.jsx)(n,{className:"h-4 w-4"})," Assegnazione Asset"]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,s.jsx)(I,{label:"Totale Componenti",value:e.length,sub:"In inventario"}),(0,s.jsx)(I,{label:"In Allerta",value:e.filter(e=>"OPTIMAL"!==e.status).length,sub:"Richiedono attenzione",alert:e.filter(e=>"OPTIMAL"!==e.status).length>0}),(0,s.jsx)(I,{label:"Magazzino Retinato",value:e.filter(e=>"RETINATO"===e.warehouse&&!e.assignedAssetId).length,sub:"Pezzi disponibili"}),(0,s.jsx)(I,{label:"Magazzino Magliato",value:e.filter(e=>"MAGLIATO"===e.warehouse&&!e.assignedAssetId).length,sub:"Pezzi disponibili"})]}),(0,s.jsxs)("div",{className:"rounded-xl border bg-card shadow-sm overflow-hidden",children:[(0,s.jsxs)("div",{className:"p-4 border-b flex flex-col sm:flex-row gap-4 justify-between items-center bg-muted/40",children:[(0,s.jsxs)("div",{className:"relative w-full sm:max-w-xs",children:[(0,s.jsx)(r.Search,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,s.jsx)("input",{type:"text",placeholder:"Cerca per codice o modello...",className:"pl-9 w-full rounded-md border border-input bg-background px-3 py-2 text-sm focus:ring-2 focus:ring-primary outline-none",value:o,onChange:e=>h(e.target.value)})]}),(0,s.jsx)("div",{className:"flex gap-2 w-full sm:w-auto",children:(0,s.jsxs)("select",{className:"w-full sm:w-auto rounded-md border border-input bg-background px-3 py-2 text-sm outline-none",value:p,onChange:e=>g(e.target.value),children:[(0,s.jsx)("option",{value:"ALL",children:"Tutti i Magazzini"}),(0,s.jsx)("option",{value:"RETINATO",children:"Retinato"}),(0,s.jsx)("option",{value:"MAGLIATO",children:"Magliato"})]})})]}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,s.jsx)("thead",{className:"bg-muted/50 text-muted-foreground font-medium border-b",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-4 py-3",children:"Codice"}),(0,s.jsx)("th",{className:"px-4 py-3",children:"Modello"}),(0,s.jsx)("th",{className:"px-4 py-3",children:"Tipo"}),(0,s.jsx)("th",{className:"px-4 py-3",children:"Stato"}),(0,s.jsx)("th",{className:"px-4 py-3",children:"Ultima Misura"}),(0,s.jsx)("th",{className:"px-4 py-3",children:"Assegnazione/Posizione"}),(0,s.jsx)("th",{className:"px-4 py-3 text-right",children:"Azioni"})]})}),(0,s.jsx)("tbody",{className:"divide-y",children:0===f.length?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:7,className:"px-4 py-8 text-center text-muted-foreground italic",children:"Nessun componente trovato."})}):f.map(e=>{let t;return(0,s.jsxs)("tr",{className:(0,u.cn)("hover:bg-muted/50 transition-colors",e.isScrapped&&"bg-red-50 hover:bg-red-100 opacity-75"),children:[(0,s.jsx)("td",{className:"px-4 py-3 font-medium font-mono",children:(0,s.jsx)(A,{component:e,children:(0,s.jsxs)("button",{className:"text-left hover:underline decoration-primary hover:text-primary transition-colors flex items-center gap-2",children:[e.code,e.isScrapped&&(0,s.jsx)("span",{className:"text-[10px] bg-red-200 text-red-800 px-1 rounded",children:"ROTTAMATA"})]})})}),(0,s.jsx)("td",{className:"px-4 py-3",children:e.model}),(0,s.jsx)("td",{className:"px-4 py-3",children:(0,s.jsx)("span",{className:(0,u.cn)("px-2 py-0.5 rounded text-xs border","SCREW"===e.type?"bg-orange-50 text-orange-700 border-orange-200":"bg-blue-50 text-blue-700 border-blue-200"),children:"SCREW"===e.type?"VITE":"CILINDRO"})}),(0,s.jsx)("td",{className:"px-4 py-3",children:(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,s.jsx)(v,{status:e.status}),(0,s.jsx)("span",{className:(0,u.cn)("text-xs font-medium","OPTIMAL"===e.status?"text-emerald-600":"WARNING"===e.status?"text-amber-600":"NEEDS_NITRIDING"===e.status?"text-orange-600":"NEEDS_REGENERATION"===e.status?"text-purple-600":"TO_ORDER"===e.status?"text-sky-600":"text-red-600"),children:"NEEDS_NITRIDING"===e.status?"NITRURARE":"NEEDS_REGENERATION"===e.status?"RIGENERARE":"TO_ORDER"===e.status?"DA ORDINARE":e.status})]})}),(0,s.jsx)("td",{className:"px-4 py-3 text-muted-foreground",children:e.measurements.length>0?`${e.measurements[e.measurements.length-1].value1} mm`:"-"}),(0,s.jsx)("td",{className:"px-4 py-3",children:e.assignedAssetId?(t=d.find(s=>s.id===e.assignedAssetId),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-slate-100 text-slate-700 border font-medium whitespace-nowrap mb-0.5 w-fit",children:[(0,s.jsx)("span",{className:"w-2 h-2 rounded-full bg-green-500 mr-2"}),t?.name||"Asset Sconosciuto"]}),t?.line&&(0,s.jsx)("span",{className:"text-[10px] text-muted-foreground ml-1",children:t.line})]})):(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-amber-50 text-amber-700 border w-fit whitespace-nowrap mb-1",children:[(0,s.jsx)("span",{className:"w-2 h-2 rounded-full bg-amber-400 mr-2"}),e.warehouse]}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground ml-1",children:e.location})]})}),(0,s.jsx)("td",{className:"px-4 py-3 text-right",children:(0,s.jsx)("div",{className:"flex items-center justify-end gap-1",children:(0,s.jsx)(j,{component:e,children:(0,s.jsx)("button",{className:"p-2 hover:bg-muted rounded-md text-primary transition-colors",title:"Aggiungi Misura",children:(0,s.jsx)(c,{className:"h-4 w-4"})})})})})]},e.id)})})]})})]})]})}function S(){let[e,a]=(0,t.useState)(!1);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:()=>a(!0),className:"flex items-center gap-2 bg-white text-muted-foreground border px-3 py-2 rounded-lg font-medium shadow-sm hover:bg-muted transition-colors",title:"Legenda Stati",children:(0,s.jsx)(o,{className:"h-4 w-4"})}),e&&(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in",onClick:()=>a(!1),children:(0,s.jsxs)("div",{className:"w-full max-w-lg bg-white rounded-xl shadow-xl border animate-in zoom-in-95 duration-200 p-6",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[(0,s.jsx)(o,{className:"h-5 w-5 text-primary"}),"Legenda Stati Usura"]}),(0,s.jsxs)("button",{onClick:()=>a(!1),className:"p-1 hover:bg-muted rounded text-muted-foreground",children:[(0,s.jsx)("div",{className:"sr-only",children:"Chiudi"}),(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-x h-5 w-5",children:[(0,s.jsx)("path",{d:"M18 6 6 18"}),(0,s.jsx)("path",{d:"m6 6 12 12"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium mb-2 text-sm text-muted-foreground uppercase tracking-wider",children:"Viti (Differenza Nominale)"}),(0,s.jsxs)("div",{className:"border rounded-lg overflow-hidden text-sm",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 bg-muted/50 font-medium p-2 border-b",children:[(0,s.jsx)("div",{children:"Soglia (mm)"}),(0,s.jsx)("div",{children:"Stato"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 p-2 border-b",children:[(0,s.jsx)("div",{children:"< 0.4"}),(0,s.jsxs)("div",{className:"text-emerald-600 font-medium flex items-center gap-2",children:[(0,s.jsx)(i.CheckCircle2,{className:"h-3 w-3"})," OPTIMAL"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 p-2 border-b",children:[(0,s.jsx)("div",{children:"0.5 - 0.6"}),(0,s.jsxs)("div",{className:"text-orange-600 font-medium flex items-center gap-2",children:[(0,s.jsx)(l.AlertTriangle,{className:"h-3 w-3"})," NITRURARE"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 p-2 border-b",children:[(0,s.jsx)("div",{children:"0.61 - 1.0"}),(0,s.jsxs)("div",{className:"text-purple-600 font-medium flex items-center gap-2",children:[(0,s.jsx)(l.AlertTriangle,{className:"h-3 w-3"})," RIGENERARE"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 p-2",children:[(0,s.jsx)("div",{children:"> 1.0"}),(0,s.jsxs)("div",{className:"text-red-600 font-medium flex items-center gap-2",children:[(0,s.jsx)(l.AlertTriangle,{className:"h-3 w-3"})," ROTTAMARE"]})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium mb-2 text-sm text-muted-foreground uppercase tracking-wider",children:"Cilindri (Differenza Nominale)"}),(0,s.jsxs)("div",{className:"border rounded-lg overflow-hidden text-sm",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 bg-muted/50 font-medium p-2 border-b",children:[(0,s.jsx)("div",{children:"Soglia (mm)"}),(0,s.jsx)("div",{children:"Stato"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 p-2 border-b",children:[(0,s.jsx)("div",{children:"< 0.7"}),(0,s.jsxs)("div",{className:"text-emerald-600 font-medium flex items-center gap-2",children:[(0,s.jsx)(i.CheckCircle2,{className:"h-3 w-3"})," OPTIMAL"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 p-2 border-b",children:[(0,s.jsx)("div",{children:"0.7 - 0.8"}),(0,s.jsxs)("div",{className:"text-sky-600 font-medium flex items-center gap-2",children:[(0,s.jsx)(m,{className:"h-3 w-3"})," DA ORDINARE"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 p-2",children:[(0,s.jsx)("div",{children:"> 0.8"}),(0,s.jsxs)("div",{className:"text-red-600 font-medium flex items-center gap-2",children:[(0,s.jsx)(l.AlertTriangle,{className:"h-3 w-3"})," ROTTAMARE"]})]})]})]})]})]})})]})}function I({label:e,value:t,sub:a,alert:r}){return(0,s.jsxs)("div",{className:(0,u.cn)("p-4 rounded-xl border bg-card shadow-sm",r&&"border-red-200 bg-red-50"),children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground font-medium",children:e}),(0,s.jsx)("div",{className:(0,u.cn)("text-2xl font-bold mt-1",r&&"text-red-600"),children:t}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:a})]})}e.s(["default",()=>R],3900)}]);