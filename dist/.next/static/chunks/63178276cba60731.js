(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63209,e=>{"use strict";let t=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],63209)},44429,e=>{"use strict";var t=e.i(43476),a=e.i(8493),s=e.i(81233),o=e.i(69581),r=e.i(75254);let i=(0,r.default)("file-down",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]),n=(0,r.default)("file-spreadsheet",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]),d=(0,r.default)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),l=(0,r.default)("package-check",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);var c=e.i(63209);function m(){let{workOrders:e}=(0,a.useWorkOrders)(),{assets:r}=(0,s.useAssets)(),{parts:m}=(0,o.useInventory)(),u=(e,t)=>{let a=new Blob([e],{type:"text/csv;charset=utf-8;"}),s=window.URL.createObjectURL(a),o=document.createElement("a");o.download=t,o.href=s,o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o)};return(0,t.jsxs)("div",{className:"space-y-6 animate-in fade-in duration-500",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-foreground to-foreground/60 bg-clip-text text-transparent",children:"Estrazioni Dati"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-1",children:"Esporta report e analisi in formato CSV per Excel."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"rounded-xl border bg-card p-6 shadow-sm hover:shadow-md transition-shadow",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsx)("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg text-blue-600 dark:text-blue-400",children:(0,t.jsx)(d,{className:"h-6 w-6"})}),(0,t.jsxs)("span",{className:"text-xs font-mono text-muted-foreground bg-muted px-2 py-1 rounded",children:[e.length," Records"]})]}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Registro Interventi"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-6 h-10",children:"Scarica lo storico completo degli Ordini di Lavoro, inclusi costi, assegnazioni e tempi di esecuzione."}),(0,t.jsxs)("button",{onClick:()=>{u(["ID,Titolo,Asset,Priorita,Stato,Tecnico,Data Scadenza,Costo Parti (€),Costo Manodopera (€),Totale (€)",...e.map(e=>{let t=e.partsUsed?.reduce((e,t)=>e+t.unitCost*t.quantity,0)||0,a=e.laborLogs?.reduce((e,t)=>e+50*t.hours,0)||0;return[e.id,`"${e.title.replace(/"/g,'""')}"`,`"${e.assetName}"`,e.priority,e.status,e.assignedTo||"Unassigned",new Date(e.dueDate).toLocaleDateString(),t.toFixed(2),a.toFixed(2),(t+a).toFixed(2)].join(",")})].join("\n"),`Interventi_${new Date().toISOString().split("T")[0]}.csv`)},className:"w-full flex items-center justify-center gap-2 bg-background border hover:bg-muted text-foreground px-4 py-2.5 rounded-lg font-medium transition-colors",children:[(0,t.jsx)(n,{className:"h-4 w-4"})," Esporta Interventi"]})]}),(0,t.jsxs)("div",{className:"rounded-xl border bg-card p-6 shadow-sm hover:shadow-md transition-shadow",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsx)("div",{className:"p-3 bg-amber-100 dark:bg-amber-900/30 rounded-lg text-amber-600 dark:text-amber-400",children:(0,t.jsx)(l,{className:"h-6 w-6"})}),(0,t.jsx)("span",{className:"text-xs font-mono text-muted-foreground bg-muted px-2 py-1 rounded",children:"Consumi"})]}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Consumi Materiali"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-6 h-10",children:"Analisi dettagliata dei ricambi utilizzati per ogni intervento, utile per il controllo costi."}),(0,t.jsxs)("button",{onClick:()=>{let t=[];e.forEach(e=>{e.partsUsed&&e.partsUsed.forEach(a=>{t.push([new Date(a.dateAdded||e.createdAt).toLocaleDateString(),`"${a.partName}"`,a.quantity.toString(),a.unitCost.toString(),e.id,`"${e.assetName}"`].join(","))})}),u(["Data,Ricambio,Quantita,Costo Unitario,Intervento ID,Asset",...t].join("\n"),`Consumi_Materiali_${new Date().toISOString().split("T")[0]}.csv`)},className:"w-full flex items-center justify-center gap-2 bg-background border hover:bg-muted text-foreground px-4 py-2.5 rounded-lg font-medium transition-colors",children:[(0,t.jsx)(i,{className:"h-4 w-4"})," Esporta Consumi"]})]}),(0,t.jsxs)("div",{className:"rounded-xl border bg-card p-6 shadow-sm hover:shadow-md transition-shadow",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsx)("div",{className:"p-3 bg-emerald-100 dark:bg-emerald-900/30 rounded-lg text-emerald-600 dark:text-emerald-400",children:(0,t.jsx)(c.AlertCircle,{className:"h-6 w-6"})}),(0,t.jsxs)("span",{className:"text-xs font-mono text-muted-foreground bg-muted px-2 py-1 rounded",children:[m?.length||0," Items"]})]}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Giacenze Magazzino"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-6 h-10",children:"Esporta l'inventario attuale con quantità, valori e livelli di riordino."}),(0,t.jsxs)("button",{onClick:()=>{u(["Codice,Nome,Categoria,Giacenza,Giacenza Min,Locazione,Valore Unitario",...m.map(e=>[e.id,`"${e.name}"`,e.category,e.quantity,e.minQuantity,`"${e.location}"`,e.unitCost||0].join(","))].join("\n"),`Inventario_Magazzino_${new Date().toISOString().split("T")[0]}.csv`)},className:"w-full flex items-center justify-center gap-2 bg-background border hover:bg-muted text-foreground px-4 py-2.5 rounded-lg font-medium transition-colors",children:[(0,t.jsx)(i,{className:"h-4 w-4"})," Esporta Magazzino"]})]}),(0,t.jsxs)("div",{className:"rounded-xl border bg-card p-6 shadow-sm hover:shadow-md transition-shadow",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsx)("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-lg text-purple-600 dark:text-purple-400",children:(0,t.jsx)(n,{className:"h-6 w-6"})}),(0,t.jsxs)("span",{className:"text-xs font-mono text-muted-foreground bg-muted px-2 py-1 rounded",children:[r.length," Asset"]})]}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Parco Asset"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-6 h-10",children:"Lista completa dei macchinari con stato operativo, ubicazione e indici di salute."}),(0,t.jsxs)("button",{onClick:()=>{u(["ID,Nome,Modello,Seriale,Stato,Health Score,Ubicazione,Reparto",...r.map(e=>[e.id,`"${e.name}"`,`"${e.model}"`,`"${e.serialNumber}"`,e.status,e.healthScore,`"${e.location}"`,`"${e.department}"`].join(","))].join("\n"),`Parco_Asset_${new Date().toISOString().split("T")[0]}.csv`)},className:"w-full flex items-center justify-center gap-2 bg-background border hover:bg-muted text-foreground px-4 py-2.5 rounded-lg font-medium transition-colors",children:[(0,t.jsx)(i,{className:"h-4 w-4"})," Esporta Asset"]})]})]})]})}e.s(["default",()=>m],44429)}]);